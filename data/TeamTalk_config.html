<!DOCTYPE html>
<!-- saved from url=(0052)http://www.bluefoxah.org/teamtalk/new_tt_deploy.html -->
<html class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>新版TeamTalk完整部署教程 - 蓝狐</title>

    <!-- 使用url函数转换相关路径 -->
    <link rel="stylesheet" href="./TeamTalk_config_files/normalize.min.css">
    <link rel="stylesheet" href="./TeamTalk_config_files/grid.css">
    <link rel="stylesheet" href="./TeamTalk_config_files/style.css">

    <!--[if lt IE 9]>
    <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="http://cdn.staticfile.org/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- 通过自有函数输出HTML头部信息 -->
    <link rel="stylesheet" type="text/css" href="./TeamTalk_config_files/solarized_dark.css"><meta name="description" content="新版TeamTalk部署教程新版TeamTalk已经在2015年03月28日发布了，目前版本定为1.0.0版本，后续版本号会按照如下规则进行：1、版本规则按照x.y.z的形式进行。2、各端小bu...">
<meta name="generator" content="Typecho 1.0/14.10.10">
<meta name="template" content="default">
<link rel="pingback" href="http://www.bluefoxah.org/action/xmlrpc">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.bluefoxah.org/action/xmlrpc?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.bluefoxah.org/action/xmlrpc?wlw">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.bluefoxah.org/feed/teamtalk/new_tt_deploy.html">
<link rel="alternate" type="application/rdf+xml" title="RSS 1.0" href="http://www.bluefoxah.org/feed/rss/teamtalk/new_tt_deploy.html">
<link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="http://www.bluefoxah.org/feed/atom/teamtalk/new_tt_deploy.html">
<script type="text/javascript">
(function () {
    window.TypechoComment = {
        dom : function (id) {
            return document.getElementById(id);
        },
    
        create : function (tag, attr) {
            var el = document.createElement(tag);
        
            for (var key in attr) {
                el.setAttribute(key, attr[key]);
            }
        
            return el;
        },

        reply : function (cid, coid) {
            var comment = this.dom(cid), parent = comment.parentNode,
                response = this.dom('respond-post-42'), input = this.dom('comment-parent'),
                form = 'form' == response.tagName ? response : response.getElementsByTagName('form')[0],
                textarea = response.getElementsByTagName('textarea')[0];

            if (null == input) {
                input = this.create('input', {
                    'type' : 'hidden',
                    'name' : 'parent',
                    'id'   : 'comment-parent'
                });

                form.appendChild(input);
            }

            input.setAttribute('value', coid);

            if (null == this.dom('comment-form-place-holder')) {
                var holder = this.create('div', {
                    'id' : 'comment-form-place-holder'
                });

                response.parentNode.insertBefore(holder, response);
            }

            comment.appendChild(response);
            this.dom('cancel-comment-reply-link').style.display = '';

            if (null != textarea && 'text' == textarea.name) {
                textarea.focus();
            }

            return false;
        },

        cancelReply : function () {
            var response = this.dom('respond-post-42'),
            holder = this.dom('comment-form-place-holder'), input = this.dom('comment-parent');

            if (null != input) {
                input.parentNode.removeChild(input);
            }

            if (null == holder) {
                return true;
            }

            this.dom('cancel-comment-reply-link').style.display = 'none';
            holder.parentNode.insertBefore(response, holder);
            return false;
        }
    };
})();
</script>
<script type="text/javascript">
(function () {
    var event = document.addEventListener ? {
        add: 'addEventListener',
        focus: 'focus',
        load: 'DOMContentLoaded'
    } : {
        add: 'attachEvent',
        focus: 'onfocus',
        load: 'onload'
    };

    document[event.add](event.load, function () {
        var r = document.getElementById('respond-post-42');

        if (null != r) {
            var forms = r.getElementsByTagName('form');
            if (forms.length > 0) {
                var f = forms[0], textarea = f.getElementsByTagName('textarea')[0], added = false;

                if (null != textarea && 'text' == textarea.name) {
                    textarea[event.add](event.focus, function () {
                        if (!added) {
                            var input = document.createElement('input');
                            input.type = 'hidden';
                            input.name = '_';
                            input.value = (function () {
    var _pOLDC = '3e1'//'B'
+//'ZP8'
'ed'+//'8O'
'c'+'88'//'Y'
+'3'//'vkD'
+//'u'
'bcd'+//'VF'
'VF'+'M02'//'M02'
+'70'//'Zy'
+'55e'//'g'
+//'CA'
'b0e'+//'hq'
'9'+//'n'
'c7'+'21a'//'RC'
+'b4'//'ygx'
+//'iS'
'9'+'f'//'93'
+//'H'
'4b', _1j3fT = [[12,14],[12,15]];
    
    for (var i = 0; i < _1j3fT.length; i ++) {
        _pOLDC = _pOLDC.substring(0, _1j3fT[i][0]) + _pOLDC.substring(_1j3fT[i][1]);
    }

    return _pOLDC;
})();

                            f.appendChild(input);
                            added = true;
                        }
                    });
                }
            }
        }
    });
})();
</script></head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->

<header id="header" class="clearfix">
    <div class="container">
        <div class="row">
            <div class="site-name col-mb-12 col-9">
                <a id="logo" href="http://www.bluefoxah.org/">
                                        蓝狐                </a>
        	    <p class="description">Hello bluefox</p>
            </div>
            <div class="site-search col-3 kit-hidden-tb">
                <form id="search" method="post" action="http://www.bluefoxah.org/teamtalk/" role="search">
                    <label for="s" class="sr-only">搜索关键字</label>
                    <input type="text" name="s" class="text" placeholder="输入关键字搜索">
                    <button type="submit" class="submit">搜索</button>
                </form>
            </div>
            <div class="col-mb-12">
                <nav id="nav-menu" class="clearfix" role="navigation">
                    <a href="http://www.bluefoxah.org/">首页</a>
                                                            <a href="http://www.bluefoxah.org/tt_bug_feedback.html" title="TT bug收集">TT bug收集</a>
                                        <a href="http://www.bluefoxah.org/about.html" title="关于我">关于我</a>
                                    </nav>
            </div>
        </div><!-- end .row -->
    </div>
</header><!-- end #header -->
<div id="body">
    <div class="container">
        <div class="row">

    
    

<div class="col-mb-12 col-8" id="main" role="main">
    <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
        <h1 class="post-title" itemprop="name headline"><a itemtype="url" href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html">新版TeamTalk完整部署教程</a></h1>
        <ul class="post-meta">
            <li itemprop="author" itemscope="" itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.bluefoxah.org/author/1/" rel="author">zhyh</a></li>
            <li>时间: <time datetime="2015-03-30T01:41:00+00:00" itemprop="datePublished">2015-03-30 01:41:00</time></li>
            <li>分类: <a href="http://www.bluefoxah.org/category/teamtalk/">TeamTalk</a></li>
        </ul>
        <div class="post-content" itemprop="articleBody">
            <h1>新版TeamTalk部署教程</h1>
<p>新版TeamTalk已经在2015年03月28日发布了，目前版本定为1.0.0版本，后续版本号会按照如下规则进行：<br>
1、版本规则按照x.y.z的形式进行。<br>
2、各端小bug修复则版本号中z增加。<br>
3、有新的feature增加，则版本号中y增加。<br>
4、有重大更新及不兼容更新，则版本号x增加。</p>
<p>本教程会在VirtualBox 虚拟机中进行安装部署一整套服务端，并做记录，给大家做个参考，后面会将整个虚拟机打包上传到网盘中，为那些不想自己亲自部署的人一个可用环境。</p>
<p>这篇博客中，不会使用一键部署脚本，我会一步一步手动去部署。另外我会尽量选择源码安装mysql，php，nginx等，后面所有的安装在/usr/local/目录下。(源码安装很多参考了军哥(http://www.lnmp.org)的脚本，在此表示感谢)。</p>
<p>真个部署过程从晚上8:00开始到半夜将近2:00(由于时间太晚了，明天还要上班，所以配置那块后面再写),耗时近6个小时，所以本文也耗时5个多小时才完成，希望可以帮助到大家。</p>
<p>更新:</p>
<pre><code class="ruby"><span class="number">2015</span>年<span class="number">04</span>月<span class="number">02</span>日更新
更新了配置文件说明
<span class="number">2015</span>年<span class="number">04</span>月<span class="number">07</span>日更新
更新了数据库导入，及问题修复。
    <span class="number">2015</span>年<span class="number">05</span>月<span class="number">05</span>日
    修复mysql下载不了问题,感谢<span class="variable">@Gene</span>反馈。
</code></pre>
<!--more-->
<p>我的环境如下:</p>
<pre><code class="css">虚拟机<span class="pseudo">:VirtualBox</span> 4<span class="class">.3</span><span class="class">.18</span>
<span class="tag">CPU</span><span class="pseudo">:2</span>核
内存<span class="pseudo">:2GB</span>
硬盘<span class="pseudo">:10GB</span>
操作系统<span class="pseudo">:CentOS</span> 6<span class="class">.5</span> <span class="tag">x64</span>
<span class="tag">IP</span><span class="pseudo">:192</span><span class="class">.168</span><span class="class">.1</span><span class="class">.150</span>
</code></pre>
<p><img src="./TeamTalk_config_files/2863081058.png" alt="virtualbox"></p>
<p><img src="./TeamTalk_config_files/4176429417.png" alt="IP"></p>
<p>下面我们正式开始:</p>
<h2>1、更新操作系统</h2>
<p>更新操作系统:</p>
<p>CentOS 使用如下命令:</p>
<pre><code class="haskell"><span class="title">yum</span> update
</code></pre>
<p>Ubuntu 使用如下命令:</p>
<pre><code class="cs">apt-<span class="keyword">get</span> update
</code></pre>
<p>该命令会执行更新，会消耗一段时间，国内用户，建议使用科大源或者163，搜狐等都可以，这会为大家节省很多时间，具体使用方法，可以见相关的页面:</p>
<pre><code class="ruby"><span class="number">163</span>源帮助<span class="symbol">:http</span><span class="symbol">://mirrors</span>.<span class="number">163</span>.com/.help/centos.html
        <span class="symbol">:http</span><span class="symbol">://mirrors</span>.<span class="number">163</span>.com/.help/ubuntu.html
搜狐源帮助<span class="symbol">:http</span><span class="symbol">://mirrors</span>.sohu.com/help/centos.html
        <span class="symbol">:http</span><span class="symbol">://mirrors</span>.sohu.com/help/ubuntu.html
科大源帮助<span class="symbol">:https</span><span class="symbol">://lug</span>.ustc.edu.cn/wiki/mirrors/help/centos
        <span class="symbol">:https</span><span class="symbol">://lug</span>.ustc.edu.cn/wiki/mirrors/help/ubuntu
        
</code></pre>
<p>执行上面命令后，会检查一些更新，会出现如下图:<br>
<img src="./TeamTalk_config_files/1067929345.png" alt="update1"><br>
后面会询问是否安装更新，有可能会询问你是否需要导入密钥之类的，输入y即可，如下图所示:<br>
<img src="./TeamTalk_config_files/953973419.png" alt="update2"></p>
<h2>2、删除已经安装的软件</h2>
<p>为了减少一些不必要的麻烦，我们需要先卸载系统自带的一些软件，譬如mysql，nginx，php，执行以下命令:</p>
<p>CentOS 执行如下命令:</p>
<pre><code class="brainfuck"><span class="comment">yum</span> <span class="literal">-</span><span class="comment">y</span> <span class="comment">remove</span> <span class="comment">httpd*</span> <span class="comment">php*</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">server</span> <span class="comment">mysql</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">libs</span> <span class="comment">php</span><span class="literal">-</span><span class="comment">mysql</span>
</code></pre>
<p>Ubuntu 使用如下命令:</p>
<pre><code class="brainfuck"><span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">remove</span> <span class="literal">-</span><span class="comment">y</span> <span class="comment">apache2</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">doc</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">utils</span> <span class="comment">apache2</span><span class="string">.</span><span class="comment">2</span><span class="literal">-</span><span class="comment">common</span> <span class="comment">apache2</span><span class="string">.</span><span class="comment">2</span><span class="literal">-</span><span class="comment">bin</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">mpm</span><span class="literal">-</span><span class="comment">prefork</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">doc</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">mpm</span><span class="literal">-</span><span class="comment">worker</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">client</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">server</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">common</span> <span class="comment">php5</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">common</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">cgi</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">mysql</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">curl</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">gd</span>
<span class="comment">killall</span> <span class="comment">apache2</span>
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">l</span> <span class="comment">|grep</span> <span class="comment">mysql</span> 
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">P</span> <span class="comment">libmysqlclient15off</span> <span class="comment">libmysqlclient15</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">common</span> 
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">l</span> <span class="comment">|grep</span> <span class="comment">apache</span> 
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">P</span> <span class="comment">apache2</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">doc</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">mpm</span><span class="literal">-</span><span class="comment">prefork</span> <span class="comment">apache2</span><span class="literal">-</span><span class="comment">utils</span> <span class="comment">apache2</span><span class="string">.</span><span class="comment">2</span><span class="literal">-</span><span class="comment">common</span>
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">l</span> <span class="comment">|grep</span> <span class="comment">php</span> 
<span class="comment">dpkg</span> <span class="literal">-</span><span class="comment">P</span> <span class="comment">php5</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">common</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">cgi</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">mysql</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">curl</span> <span class="comment">php5</span><span class="literal">-</span><span class="comment">gd</span>
<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">purge</span> <span class="comment">`dpkg</span> <span class="literal">-</span><span class="comment">l</span> <span class="comment">|</span> <span class="comment">grep</span> <span class="comment">php|</span> <span class="comment">awk</span> <span class="comment">'{print</span> <span class="comment">$2}'`</span>
</code></pre>
<p>如下图所示:<br>
<img src="./TeamTalk_config_files/1629701908.png" alt="remove"></p>
<h2>3、安装必要的依赖软件</h2>
<p>由于我选择的是CentOS 最小化安装，所以系统中很多软件是没有安装的，需要我手动安装。<br>
执行如下命令安装一些依赖软件:</p>
<p>CentOS 使用如下命令:</p>
<pre><code class="brainfuck"><span class="comment">yum</span> <span class="literal">-</span><span class="comment">y</span> <span class="comment">install</span> <span class="comment">wget</span> <span class="comment">vim</span> <span class="comment">git</span> <span class="comment">texinfo</span> <span class="comment">patch</span> <span class="comment">make</span> <span class="comment">cmake</span> <span class="comment">gcc</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">c</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">g77</span> <span class="comment">flex</span> <span class="comment">bison</span> <span class="comment">file</span> <span class="comment">libtool</span> <span class="comment">libtool</span><span class="literal">-</span><span class="comment">libs</span> <span class="comment">autoconf</span> <span class="comment">kernel</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libjpeg</span> <span class="comment">libjpeg</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libpng</span> <span class="comment">libpng</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libpng10</span> <span class="comment">libpng10</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">gd</span> <span class="comment">gd</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">freetype</span> <span class="comment">freetype</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libxml2</span> <span class="comment">libxml2</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">zlib</span> <span class="comment">zlib</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">glib2</span> <span class="comment">glib2</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">bzip2</span> <span class="comment">bzip2</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libevent</span> <span class="comment">libevent</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">ncurses</span> <span class="comment">ncurses</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">curl</span> <span class="comment">curl</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">e2fsprogs</span> <span class="comment">e2fsprogs</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">krb5</span> <span class="comment">krb5</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libidn</span> <span class="comment">libidn</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">openssl</span> <span class="comment">openssl</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">vim</span><span class="literal">-</span><span class="comment">minimal</span> <span class="comment">nano</span> <span class="comment">fonts</span><span class="literal">-</span><span class="comment">chinese</span> <span class="comment">gettext</span> <span class="comment">gettext</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">ncurses</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">gmp</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">pspell</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">unzip</span> <span class="comment">libcap</span> <span class="comment">diffutils</span>
</code></pre>
<p>ubuntu 使用如下命令:</p>
<pre><code class="brainfuck"><span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">autoremove</span> <span class="literal">-</span><span class="comment">y</span>
<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="literal">-</span><span class="comment">fy</span> <span class="comment">install</span>
<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">install</span> <span class="literal">-</span><span class="comment">y</span> <span class="comment">build</span><span class="literal">-</span><span class="comment">essential</span> <span class="comment">gcc</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">make</span>
<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">install</span> <span class="literal">-</span><span class="comment">y</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">force</span><span class="literal">-</span><span class="comment">yes</span> <span class="comment">wget</span> <span class="comment">vim</span> <span class="comment">git</span> <span class="comment">texinfo</span> <span class="comment">patch</span> <span class="comment">build</span><span class="literal">-</span><span class="comment">essential</span> <span class="comment">gcc</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">make</span> <span class="comment">cmake</span> <span class="comment">automake</span> <span class="comment">autoconf</span> <span class="comment">re2c</span> <span class="comment">wget</span> <span class="comment">cron</span> <span class="comment">bzip2</span> <span class="comment">libzip</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libc6</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">file</span> <span class="comment">rcconf</span> <span class="comment">flex</span> <span class="comment">vim</span> <span class="comment">nano</span> <span class="comment">bison</span> <span class="comment">m4</span> <span class="comment">gawk</span> <span class="comment">less</span> <span class="comment">make</span> <span class="comment">cpp</span> <span class="comment">binutils</span> <span class="comment">diffutils</span> <span class="comment">unzip</span> <span class="comment">tar</span> <span class="comment">bzip2</span> <span class="comment">libbz2</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">unrar</span> <span class="comment">p7zip</span> <span class="comment">libncurses5</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libncurses5</span> <span class="comment">libncurses5</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libncurses5</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libtool</span> <span class="comment">libevent</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpcre3</span> <span class="comment">libpcre3</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpcrecpp0</span>  <span class="comment">libssl</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">zlibc</span> <span class="comment">openssl</span> <span class="comment">libsasl2</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libltdl3</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libltdl</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libmcrypt</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">zlib1g</span> <span class="comment">zlib1g</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libbz2</span><span class="literal">-</span><span class="comment">1</span><span class="string">.</span><span class="comment">0</span> <span class="comment">libbz2</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libglib2</span><span class="string">.</span><span class="comment">0</span><span class="literal">-</span><span class="comment">0</span> <span class="comment">libglib2</span><span class="string">.</span><span class="comment">0</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpng3</span> <span class="comment">libjpeg62</span> <span class="comment">libjpeg62</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libjpeg</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpng</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpng12</span><span class="literal">-</span><span class="comment">0</span> <span class="comment">libpng12</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">curl</span> <span class="comment">libcurl3</span> <span class="comment">libmhash2</span> <span class="comment">libmhash</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpq</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpq5</span> <span class="comment">gettext</span> <span class="comment">libncurses5</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libcurl4</span><span class="literal">-</span><span class="comment">gnutls</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libjpeg</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libpng12</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libxml2</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">zlib1g</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libfreetype6</span> <span class="comment">libfreetype6</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libssl</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libcurl3</span> <span class="comment">libcurl4</span><span class="literal">-</span><span class="comment">openssl</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">libcurl4</span><span class="literal">-</span><span class="comment">gnutls</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">mcrypt</span> <span class="comment">libcap</span><span class="literal">-</span><span class="comment">dev</span> <span class="comment">diffutils</span> <span class="comment">ca</span><span class="literal">-</span><span class="comment">certificates</span> <span class="comment">debian</span><span class="literal">-</span><span class="comment">keyring</span> <span class="comment">debian</span><span class="literal">-</span><span class="comment">archive</span><span class="literal">-</span><span class="comment">keyring;</span>

<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="literal">-</span><span class="comment">fy</span> <span class="comment">install</span>
<span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="literal">-</span><span class="comment">y</span> <span class="comment">autoremove</span>
</code></pre>
<p>过程如下图所示:<br>
<img src="./TeamTalk_config_files/331802144.png" alt="install1"><br>
如下图安装结束:<br>
<img src="./TeamTalk_config_files/1766634012.png" alt="install2"></p>
<h2>4、安装mysql</h2>
<p>本次安装的mysql版本是5.6.选择从搜狐源下载，编译过程漫长。</p>
<h3>4.1 下载</h3>
<pre><code class="avrasm">wget http://mirrors<span class="preprocessor">.sohu</span><span class="preprocessor">.com</span>/mysql/MySQL-<span class="number">5.6</span>/mysql-<span class="number">5.6</span><span class="number">.23</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<p><img src="./TeamTalk_config_files/765807902.png" alt="download mysql"></p>
<h3>4.2 解压编译</h3>
<p>执行如下命令:</p>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">23</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">mysql</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">23</span>
<span class="comment">cmake</span> <span class="literal">-</span><span class="comment">DCMAKE_INSTALL_PREFIX=/usr/local/mysql</span> <span class="literal">-</span><span class="comment">DEXTRA_CHARSETS=all</span> <span class="literal">-</span><span class="comment">DDEFAULT_CHARSET=utf8</span> <span class="literal">-</span><span class="comment">DDEFAULT_COLLATION=utf8_general_ci</span> <span class="literal">-</span><span class="comment">DWITH_READLINE=1</span> <span class="literal">-</span><span class="comment">DWITH_SSL=system</span> <span class="literal">-</span><span class="comment">DWITH_ZLIB=system</span> <span class="literal">-</span><span class="comment">DWITH_EMBEDDED_SERVER=1</span> <span class="literal">-</span><span class="comment">DENABLED_LOCAL_INFILE=1</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
</code></pre>
<p>编译将是一个漫长得过程。。。不同的机器性能等待时间不同。<br>
make的-j参数可以使make进行并行编译编译。我cpu的个数是2，所以指定为2.</p>
<h3>4.3 添加mysql用户</h3>
<pre><code class="brainfuck"><span class="comment">groupadd</span> <span class="comment">mysql</span>
<span class="comment">useradd</span> <span class="literal">-</span><span class="comment">s</span> <span class="comment">/sbin/nologin</span> <span class="literal">-</span><span class="comment">M</span> <span class="literal">-</span><span class="comment">g</span> <span class="comment">mysql</span> <span class="comment">mysql</span>
</code></pre>
<h3>4.4 修改配置文件</h3>
<pre><code class="haskell"><span class="title">vim</span> /etc/my.cnf
</code></pre>
<p>下面给出一份参考配置(只是测试用，如果要用于生产环境，请自行调配):</p>
<pre><code class="lua"># Example MySQL config file <span class="keyword">for</span> medium systems.

# The following options will be passed to all MySQL clients
[client]
#password   = your_password
port        = <span class="number">3306</span>
socket      = /tmp/mysql.sock
default-character-set=utf8mb4

# Here follows entries <span class="keyword">for</span> some specific programs

# The MySQL server
[mysqld]
bind-address=<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>
port        = <span class="number">3306</span>
socket      = /tmp/mysql.sock
datadir = /usr/<span class="keyword">local</span>/mysql/var
collation-server     = utf8mb4_general_ci
character-set-server = utf8mb4
skip-external-locking
key_buffer_size = <span class="number">16</span>M
max_allowed_packet = <span class="number">1</span>M
table_open_cache = <span class="number">64</span>
sort_buffer_size = <span class="number">512</span>K
net_buffer_length = <span class="number">8</span>K
read_buffer_size = <span class="number">256</span>K
read_rnd_buffer_size = <span class="number">512</span>K
myisam_sort_buffer_size = <span class="number">8</span>M

# Replication Master Server (default)
# binary logging is required <span class="keyword">for</span> replication
log-bin=mysql-bin

# binary logging format - mixed recommended
binlog_format=mixed

# required unique id between <span class="number">1</span> <span class="keyword">and</span> <span class="number">2</span>^<span class="number">32</span> - <span class="number">1</span>
# defaults to <span class="number">1</span> <span class="keyword">if</span> master-host is <span class="keyword">not</span> set
# but will <span class="keyword">not</span> <span class="function"><span class="keyword">function</span> <span class="title">as</span> <span class="title">a</span> <span class="title">master</span> <span class="title">if</span> <span class="title">omitted</span>
<span class="title">server</span>-<span class="title">id</span>   = 1

# <span class="title">Uncomment</span> <span class="title">the</span> <span class="title">following</span> <span class="title">if</span> <span class="title">you</span> <span class="title">are</span> <span class="title">using</span> <span class="title">InnoDB</span> <span class="title">tables</span>
<span class="title">innodb_data_home_dir</span> = /<span class="title">usr</span>/<span class="title">local</span>/<span class="title">mysql</span>/<span class="title">var</span>
<span class="title">innodb_data_file_path</span> = <span class="title">ibdata1</span>:10<span class="title">M:autoextend</span>
<span class="title">innodb_log_group_home_dir</span> = /<span class="title">usr</span>/<span class="title">local</span>/<span class="title">mysql</span>/<span class="title">var</span>
# <span class="title">You</span> <span class="title">can</span> <span class="title">set</span> ..<span class="title">_buffer_pool_size</span> <span class="title">up</span> <span class="title">to</span> 50 - 80 %
# <span class="title">of</span> <span class="title">RAM</span> <span class="title">but</span> <span class="title">beware</span> <span class="title">of</span> <span class="title">setting</span> <span class="title">memory</span> <span class="title">usage</span> <span class="title">too</span> <span class="title">high</span>
<span class="title">innodb_buffer_pool_size</span> = 16<span class="title">M</span>
<span class="title">innodb_additional_mem_pool_size</span> = 2<span class="title">M</span>
# <span class="title">Set</span> ..<span class="title">_log_file_size</span> <span class="title">to</span> 25 % <span class="title">of</span> <span class="title">buffer</span> <span class="title">pool</span> <span class="title">size</span>
<span class="title">innodb_log_file_size</span> = 5<span class="title">M</span>
<span class="title">innodb_log_buffer_size</span> = 8<span class="title">M</span>
<span class="title">innodb_flush_log_at_trx_commit</span> = 1
<span class="title">innodb_lock_wait_timeout</span> = 50

[<span class="title">mysqldump</span>]
<span class="title">quick</span>
<span class="title">max_allowed_packet</span> = 16<span class="title">M</span>

[<span class="title">mysql</span>]
<span class="title">no</span>-<span class="title">auto</span>-<span class="title">rehash</span>
# <span class="title">Remove</span> <span class="title">the</span> <span class="title">next</span> <span class="title">comment</span> <span class="title">character</span> <span class="title">if</span> <span class="title">you</span> <span class="title">are</span> <span class="title">not</span> <span class="title">familiar</span> <span class="title">with</span> <span class="title">SQL</span>
#<span class="title">safe</span>-<span class="title">updates</span>
<span class="title">default</span>-<span class="title">character</span>-<span class="title">set</span>=<span class="title">utf8mb4</span>

[<span class="title">myisamchk</span>]
<span class="title">key_buffer_size</span> = 20<span class="title">M</span>
<span class="title">sort_buffer_size</span> = 20<span class="title">M</span>
<span class="title">read_buffer</span> = 2<span class="title">M</span>
<span class="title">write_buffer</span> = 2<span class="title">M</span>

[<span class="title">mysqlhotcopy</span>]
<span class="title">interactive</span>-<span class="title">timeout</span>
</span></code></pre>
<h3>4.5 初始化mysql</h3>
<pre><code class="lasso"><span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql<span class="subst">/</span>scripts<span class="subst">/</span>mysql_install_db <span class="subst">--</span>defaults<span class="attribute">-file</span><span class="subst">=/</span>etc<span class="subst">/</span>my<span class="built_in">.</span>cnf <span class="subst">--</span>basedir<span class="subst">=/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql <span class="subst">--</span>datadir<span class="subst">=/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql<span class="subst">/</span><span class="built_in">var</span> <span class="subst">--</span>user<span class="subst">=</span>mysql
chown <span class="attribute">-R</span> mysql <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql<span class="subst">/</span><span class="built_in">var</span>
chgrp <span class="attribute">-R</span> mysql <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql<span class="subst">/</span><span class="built_in">.</span>
cp support<span class="attribute">-files</span><span class="subst">/</span>mysql<span class="built_in">.</span>server <span class="subst">/</span>etc<span class="subst">/</span>init<span class="built_in">.</span>d<span class="subst">/</span>mysql
chmod <span class="number">755</span> <span class="subst">/</span>etc<span class="subst">/</span>init<span class="built_in">.</span>d<span class="subst">/</span>mysql

cat <span class="subst">&gt;</span> <span class="subst">/</span>etc<span class="subst">/</span>ld<span class="built_in">.</span>so<span class="built_in">.</span>conf<span class="built_in">.</span>d<span class="subst">/</span>mysql<span class="built_in">.</span>conf<span class="subst">&lt;&lt;</span>EOF
<span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>mysql<span class="subst">/</span>lib
<span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>lib
EOF
ldconfig
</code></pre>
<h3>4.6 启动mysql</h3>
<pre><code class="sql">/etc/init.d/mysql <span class="operator"><span class="keyword">start</span>
</span></code></pre>
<h3>4.7 查看mysql进程</h3>
<pre><code class="brainfuck"><span class="comment">ps</span> <span class="literal">-</span><span class="comment">ef|grep</span> <span class="comment">mysql</span>
</code></pre>
<p>如果看到下图，恭喜你，mysql安装成功:<br>
<img src="./TeamTalk_config_files/3081356610.png" alt="mysql"></p>
<h3>4.8 后期配置</h3>
<pre><code class="livecodeserver"><span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/lib/mysql /usr/lib/mysql
<span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/<span class="built_in">include</span>/mysql /usr/<span class="built_in">include</span>/mysql
<span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/bin/mysql /usr/bin/mysql
<span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/bin/mysqldump /usr/bin/mysqldump
<span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/bin/myisamchk /usr/bin/myisamchk
<span class="built_in">ln</span> -s /usr/<span class="built_in">local</span>/mysql/bin/mysqld_safe /usr/bin/mysqld_safe
</code></pre>
<p>登陆mysql:</p>
<pre><code class="brainfuck"><span class="comment">mysql</span> <span class="literal">-</span><span class="comment">uroot</span> <span class="literal">-</span><span class="comment">p</span>
</code></pre>
<p>修改密码(假定密码为:test123):</p>
<pre><code class="sql">use mysql;
<span class="operator"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> password=password(<span class="string">'$mysqlrootpwd'</span>) <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">'root'</span>;</span>
flush privileges;
</code></pre>
<p>退出，重新登陆:</p>
<pre><code class="brainfuck"><span class="comment">mysql</span> <span class="literal">-</span><span class="comment">uroot</span> <span class="literal">-</span><span class="comment">p</span>
</code></pre>
<p>整个过程如下图:</p>
<p><img src="./TeamTalk_config_files/3917391660.png" alt="mysql"></p>
<h3>4.9 结束</h3>
<p>至此，mysql 已经安装结束。退出到上一层目录</p>
<pre><code class="bash"><span class="built_in">cd</span> ../
</code></pre>
<h2>5、安装PHP</h2>
<p>本次安装的PHP是php 5.3.28，选择从搜狐源下载。</p>
<h3>5.1 下载PHP</h3>
<pre><code class="avrasm">wget http://mirrors<span class="preprocessor">.sohu</span><span class="preprocessor">.com</span>/php/php-<span class="number">5.3</span><span class="number">.28</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>5.2 安装依赖</h3>
<p>安装依赖的库，我选择从chinaunix.net下载的，速度也还可以。</p>
<h4>5.2.1 libiconv</h4>
<pre><code class="avrasm">wget http://down1<span class="preprocessor">.chinaunix</span><span class="preprocessor">.net</span>/distfiles/libiconv-<span class="number">1.14</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
tar -zxvf libiconv-<span class="number">1.14</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
cd libiconv-<span class="number">1.14</span>
./configure
make -j <span class="number">2</span>&amp;&amp; make install
cd ..
</code></pre>
<h4>5.2.2 libmcrypt</h4>
<pre><code class="brainfuck"><span class="comment">wget</span> <span class="comment">http://down1</span><span class="string">.</span><span class="comment">chinaunix</span><span class="string">.</span><span class="comment">net/distfiles/libmcrypt</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">5</span><span class="string">.</span><span class="comment">7</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">libmcrypt</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">5</span><span class="string">.</span><span class="comment">7</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">libmcrypt</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">5</span><span class="string">.</span><span class="comment">7</span>
<span class="string">.</span><span class="comment">/configure</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
<span class="comment">ldconfig</span>
<span class="comment">cd</span> <span class="comment">libltdl/</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">ltdl</span><span class="literal">-</span><span class="comment">install</span>
<span class="comment">make</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
<span class="comment">cd</span> <span class="string">.</span><span class="string">.</span><span class="comment">/</span><span class="string">.</span><span class="string">.</span><span class="comment">/</span>
</code></pre>
<h4>5.2.3 mhash</h4>
<pre><code class="avrasm">wget http://down1<span class="preprocessor">.chinaunix</span><span class="preprocessor">.net</span>/distfiles/mhash-<span class="number">0.9</span><span class="number">.3</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
tar -zxvf mhash-<span class="number">0.9</span><span class="number">.3</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
cd mhash-<span class="number">0.9</span><span class="number">.3</span>
./configure
make -j <span class="number">2</span> &amp;&amp; make install
cd ../
</code></pre>
<h4>5.2.4 其他</h4>
<h3>5.3 解压编译</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="string">.</span><span class="comment">28</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="string">.</span><span class="comment">28</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr/local/php</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">config</span><span class="literal">-</span><span class="comment">file</span><span class="literal">-</span><span class="comment">path=/usr/local/php/etc</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">fpm</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">fpm</span><span class="literal">-</span><span class="comment">user=www</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">fpm</span><span class="literal">-</span><span class="comment">group=www</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">mysql=mysqlnd</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">mysqli=mysqlnd</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">pdo</span><span class="literal">-</span><span class="comment">mysql=mysqlnd</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">iconv</span><span class="literal">-</span><span class="comment">dir</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">freetype</span><span class="literal">-</span><span class="comment">dir</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">jpeg</span><span class="literal">-</span><span class="comment">dir</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">png</span><span class="literal">-</span><span class="comment">dir</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">zlib</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">libxml</span><span class="literal">-</span><span class="comment">dir=/usr</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">xml</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">disable</span><span class="literal">-</span><span class="comment">rpath</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">magic</span><span class="literal">-</span><span class="comment">quotes</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">safe</span><span class="literal">-</span><span class="comment">mode</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">bcmath</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">shmop</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">sysvsem</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">inline</span><span class="literal">-</span><span class="comment">optimization</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">curl</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">mbregex</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">mbstring</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">mcrypt</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">ftp</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">gd</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">gd</span><span class="literal">-</span><span class="comment">native</span><span class="literal">-</span><span class="comment">ttf</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">openssl</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">mhash</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">pcntl</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">sockets</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">xmlrpc</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">zip</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">soap</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">without</span><span class="literal">-</span><span class="comment">pear</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">gettext</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">disable</span><span class="literal">-</span><span class="comment">fileinfo</span>

<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">ZEND_EXTRA_LIBS='</span><span class="literal">-</span><span class="comment">liconv'</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
</code></pre>
<h3>5.4 配置php</h3>
<pre><code class="handlebars"><span class="xml"><span class="tag"><span class="attribute">cp</span> <span class="attribute">php.ini-production</span> /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">post_max_size</span> = <span class="attribute">8M</span>/<span class="attribute">post_max_size</span> = <span class="attribute">50M</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">upload_max_filesize</span> = <span class="attribute">2M</span>/<span class="attribute">upload_max_filesize</span> = <span class="attribute">50M</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/;<span class="attribute">date.timezone</span> =/<span class="attribute">date.timezone</span> = <span class="attribute">PRC</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">short_open_tag</span> = <span class="attribute">Off</span>/<span class="attribute">short_open_tag</span> = <span class="attribute">On</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/; <span class="attribute">cgi.fix_pathinfo</span>=<span class="value">1</span>/<span class="attribute">cgi.fix_pathinfo</span>=<span class="value">0</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/; <span class="attribute">cgi.fix_pathinfo</span>=<span class="value">0</span>/<span class="attribute">cgi.fix_pathinfo</span>=<span class="value">0</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/;<span class="attribute">cgi.fix_pathinfo</span>=<span class="value">1</span>/<span class="attribute">cgi.fix_pathinfo</span>=<span class="value">0</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">max_execution_time</span> = <span class="attribute">30</span>/<span class="attribute">max_execution_time</span> = <span class="attribute">300</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">register_long_arrays</span> = <span class="attribute">On</span>/;<span class="attribute">register_long_arrays</span> = <span class="attribute">On</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">magic_quotes_gpc</span> = <span class="attribute">On</span>/;<span class="attribute">magic_quotes_gpc</span> = <span class="attribute">On</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
<span class="attribute">sed</span> <span class="attribute">-i</span> '<span class="attribute">s</span>/<span class="attribute">disable_functions</span> =<span class="value">.*</span>/<span class="attribute">disable_functions</span> = <span class="attribute">passthru</span>,<span class="attribute">exec</span>,<span class="attribute">system</span>,<span class="attribute">chroot</span>,<span class="attribute">scandir</span>,<span class="attribute">chgrp</span>,<span class="attribute">chown</span>,<span class="attribute">shell_exec</span>,<span class="attribute">proc_open</span>,<span class="attribute">proc_get_status</span>,<span class="attribute">ini_alter</span>,<span class="attribute">ini_restore</span>,<span class="attribute">dl</span>,<span class="attribute">openlog</span>,<span class="attribute">syslog</span>,<span class="attribute">readlink</span>,<span class="attribute">symlink</span>,<span class="attribute">popepassthru</span>,<span class="attribute">stream_socket_server</span>/<span class="attribute">g</span>' /<span class="attribute">usr</span>/<span class="attribute">local</span>/<span class="attribute">php</span>/<span class="attribute">etc</span>/<span class="attribute">php.ini</span>
</span></span></code></pre>
<h3>5.5 后期配置</h3>
<pre><code class="lasso">ln <span class="attribute">-s</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>php<span class="subst">/</span>bin<span class="subst">/</span>php <span class="subst">/</span>usr<span class="subst">/</span>bin<span class="subst">/</span>php
ln <span class="attribute">-s</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>php<span class="subst">/</span>bin<span class="subst">/</span>phpize <span class="subst">/</span>usr<span class="subst">/</span>bin<span class="subst">/</span>phpize
ln <span class="attribute">-s</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>php<span class="subst">/</span>sbin<span class="subst">/</span>php<span class="attribute">-fpm</span> <span class="subst">/</span>usr<span class="subst">/</span>bin<span class="subst">/</span>php<span class="attribute">-fpm</span>

cd <span class="built_in">..</span>
</code></pre>
<h3>5.6 安装ZendGuardLoader</h3>
<pre><code class="brainfuck"><span class="comment">mkdir</span> <span class="literal">-</span><span class="comment">p</span> <span class="comment">/usr/local/zend/</span>
<span class="comment">wget</span> <span class="comment">http://downloads</span><span class="string">.</span><span class="comment">zend</span><span class="string">.</span><span class="comment">com/guard/5</span><span class="string">.</span><span class="comment">5</span><span class="string">.</span><span class="comment">0/ZendGuardLoader</span><span class="literal">-</span><span class="comment">php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="literal">-</span><span class="comment">linux</span><span class="literal">-</span><span class="comment">glibc23</span><span class="literal">-</span><span class="comment">x86_64</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">ZendGuardLoader</span><span class="literal">-</span><span class="comment">php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="literal">-</span><span class="comment">linux</span><span class="literal">-</span><span class="comment">glibc23</span><span class="literal">-</span><span class="comment">x86_64</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cp</span> <span class="comment">ZendGuardLoader</span><span class="literal">-</span><span class="comment">php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="literal">-</span><span class="comment">linux</span><span class="literal">-</span><span class="comment">glibc23</span><span class="literal">-</span><span class="comment">x86_64/php</span><span class="literal">-</span><span class="comment">5</span><span class="string">.</span><span class="comment">3</span><span class="string">.</span><span class="comment">x/ZendGuardLoader</span><span class="string">.</span><span class="comment">so</span> <span class="comment">/usr/local/zend/</span>
<span class="comment">cat</span> &gt;&gt;<span class="comment">/usr/local/php/etc/php</span><span class="string">.</span><span class="comment">ini</span>&lt;&lt;<span class="comment">EOF</span>
<span class="comment">;eaccelerator</span>

<span class="comment">;ionCube</span>

<span class="title">[</span><span class="comment">Zend</span> <span class="comment">Optimizer</span><span class="title">]</span> 
<span class="comment">zend_extension=/usr/local/zend/ZendGuardLoader</span><span class="string">.</span><span class="comment">so</span>
<span class="comment">zend_loader</span><span class="string">.</span><span class="comment">enable=1</span>
<span class="comment">zend_loader</span><span class="string">.</span><span class="comment">disable_licensing=0</span>
<span class="comment">zend_loader</span><span class="string">.</span><span class="comment">obfuscation_level_support=3</span>
<span class="comment">zend_loader</span><span class="string">.</span><span class="comment">license_path=</span>
<span class="comment">EOF</span>

<span class="comment">cd</span> <span class="string">.</span><span class="string">.</span>
</code></pre>
<h3>5.7 修改php-fpm配置文件</h3>
<pre><code class="haskell"><span class="title">cat</span> &gt;/usr/local/php/etc/php-fpm.conf&lt;&lt;<span class="type">EOF</span>
[global]
<span class="title">pid</span> = /usr/local/php/var/run/php-fpm.pid
<span class="title">error_log</span> = /usr/local/php/var/log/php-fpm.log
<span class="title">log_level</span> = notice

[www]
<span class="title">listen</span> = /tmp/php-cgi.sock
<span class="title">listen</span>.backlog = -<span class="number">1</span>
<span class="title">listen</span>.allowed_clients = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>
<span class="title">listen</span>.owner = www
<span class="title">listen</span>.group = www
<span class="title">listen</span>.mode = <span class="number">0666</span>
<span class="title">user</span> = www
<span class="title">group</span> = www
<span class="title">pm</span> = dynamic
<span class="title">pm</span>.max_children = <span class="number">10</span>
<span class="title">pm</span>.start_servers = <span class="number">2</span>
<span class="title">pm</span>.min_spare_servers = <span class="number">1</span>
<span class="title">pm</span>.max_spare_servers = <span class="number">6</span>
<span class="title">request_terminate_timeout</span> = <span class="number">100</span>
<span class="title">request_slowlog_timeout</span> = <span class="number">0</span>
<span class="title">slowlog</span> = var/log/slow.log
<span class="type">EOF</span>
</code></pre>
<h3>5.8 创建php-fpm启动脚本</h3>
<pre><code class="brainfuck"><span class="comment">vim</span> <span class="comment">/etc/init</span><span class="string">.</span><span class="comment">d/php</span><span class="literal">-</span><span class="comment">fpm</span>
<span class="comment">chmod</span> <span class="literal">+</span><span class="comment">x</span> <span class="comment">/etc/init</span><span class="string">.</span><span class="comment">d/php</span><span class="literal">-</span><span class="comment">fpm</span>
</code></pre>
<p>以下是一份参考:</p>
<pre><code class="bash"><span class="shebang">#! /bin/sh
</span>
<span class="comment">### BEGIN INIT INFO</span>
<span class="comment"># Provides:          php-fpm</span>
<span class="comment"># Required-Start:    $remote_fs $network</span>
<span class="comment"># Required-Stop:     $remote_fs $network</span>
<span class="comment"># Default-Start:     2 3 4 5</span>
<span class="comment"># Default-Stop:      0 1 6</span>
<span class="comment"># Short-Description: starts php-fpm</span>
<span class="comment"># Description:       starts the PHP FastCGI Process Manager daemon</span>
<span class="comment">### END INIT INFO</span>

prefix=/usr/local/php
<span class="keyword">exec</span>_prefix=<span class="variable">${prefix}</span>

php_fpm_BIN=<span class="variable">${exec_prefix}</span>/sbin/php-fpm
php_fpm_CONF=<span class="variable">${prefix}</span>/etc/php-fpm.conf
php_fpm_PID=<span class="variable">${prefix}</span>/var/run/php-fpm.pid


php_opts=<span class="string">"--fpm-config <span class="variable">$php_fpm_CONF</span> --pid <span class="variable">$php_fpm_PID</span>"</span>


<span class="function"><span class="title">wait_for_pid</span></span> () {
    try=<span class="number">0</span>

    <span class="keyword">while</span> test <span class="variable">$try</span> <span class="operator">-lt</span> <span class="number">35</span> ; <span class="keyword">do</span>

        <span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span>
            <span class="string">'created'</span>)
            <span class="keyword">if</span> [ <span class="operator">-f</span> <span class="string">"<span class="variable">$2</span>"</span> ] ; <span class="keyword">then</span>
                try=<span class="string">''</span>
                <span class="keyword">break</span>
            <span class="keyword">fi</span>
            ;;

            <span class="string">'removed'</span>)
            <span class="keyword">if</span> [ ! <span class="operator">-f</span> <span class="string">"<span class="variable">$2</span>"</span> ] ; <span class="keyword">then</span>
                try=<span class="string">''</span>
                <span class="keyword">break</span>
            <span class="keyword">fi</span>
            ;;
        <span class="keyword">esac</span>

        <span class="built_in">echo</span> -n .
        try=`expr <span class="variable">$try</span> + <span class="number">1</span>`
        sleep <span class="number">1</span>

    <span class="keyword">done</span>

}

<span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span>
    start)
        <span class="built_in">echo</span> -n <span class="string">"Starting php-fpm "</span>

        <span class="variable">$php_fpm_BIN</span> --daemonize <span class="variable">$php_opts</span>

        <span class="keyword">if</span> [ <span class="string">"$?"</span> != <span class="number">0</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        wait_<span class="keyword">for</span>_pid created <span class="variable">$php_fpm_PID</span>

        <span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$try</span>"</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    stop)
        <span class="built_in">echo</span> -n <span class="string">"Gracefully shutting down php-fpm "</span>

        <span class="keyword">if</span> [ ! -r <span class="variable">$php_fpm_PID</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"warning, no pid file found - php-fpm is not running ?"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        kill -QUIT `cat <span class="variable">$php_fpm_PID</span>`

        wait_<span class="keyword">for</span>_pid removed <span class="variable">$php_fpm_PID</span>

        <span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$try</span>"</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed. Use force-quit"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    force-quit)
        <span class="built_in">echo</span> -n <span class="string">"Terminating php-fpm "</span>

        <span class="keyword">if</span> [ ! -r <span class="variable">$php_fpm_PID</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"warning, no pid file found - php-fpm is not running ?"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        kill -TERM `cat <span class="variable">$php_fpm_PID</span>`

        wait_<span class="keyword">for</span>_pid removed <span class="variable">$php_fpm_PID</span>

        <span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$try</span>"</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    restart)
        <span class="variable">$0</span> stop
        <span class="variable">$0</span> start
    ;;

    reload)

        <span class="built_in">echo</span> -n <span class="string">"Reload service php-fpm "</span>

        <span class="keyword">if</span> [ ! -r <span class="variable">$php_fpm_PID</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"warning, no pid file found - php-fpm is not running ?"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        kill -USR2 `cat <span class="variable">$php_fpm_PID</span>`

        <span class="built_in">echo</span> <span class="string">" done"</span>
    ;;

    *)
        <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> {start|stop|force-quit|restart|reload}"</span>
        <span class="keyword">exit</span> <span class="number">1</span>
    ;;

<span class="keyword">esac</span>
</code></pre>
<h3>5.9 启动php-fpm</h3>
<pre><code class="brainfuck"><span class="comment">groupadd</span> <span class="comment">www</span>
<span class="comment">useradd</span> <span class="literal">-</span><span class="comment">s</span> <span class="comment">/sbin/nologin</span> <span class="literal">-</span><span class="comment">g</span> <span class="comment">www</span> <span class="comment">www</span>

<span class="comment">/etc/init</span><span class="string">.</span><span class="comment">d/php</span><span class="literal">-</span><span class="comment">fpm</span> <span class="comment">start</span>
</code></pre>
<p>见到如下图代表启动成功:</p>
<p><img src="./TeamTalk_config_files/537360895.png" alt="php"></p>
<h2>6 安装nginx</h2>
<h3>6.1 下载nginx</h3>
<pre><code class="avrasm">wget http://mirrors<span class="preprocessor">.sohu</span><span class="preprocessor">.com</span>/nginx/nginx-<span class="number">1.6</span><span class="number">.0</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>6.2 安装依赖</h3>
<h4>6.2.1 pcre</h4>
<pre><code class="avrasm">wget http://down1<span class="preprocessor">.chinaunix</span><span class="preprocessor">.net</span>/distfiles/pcre-<span class="number">8.12</span><span class="preprocessor">.tar</span><span class="preprocessor">.bz</span>2
tar -jxvf pcre-<span class="number">8.12</span><span class="preprocessor">.tar</span><span class="preprocessor">.bz</span>2
cd pcre-<span class="number">8.12</span>
./configure
make -j <span class="number">2</span> &amp;&amp; make install 
cd ..
</code></pre>
<h3>6.3 解压编译nginx</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">nginx</span><span class="literal">-</span><span class="comment">1</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">0</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">nginx</span><span class="literal">-</span><span class="comment">1</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">0</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">user=www</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">group=www</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr/local/nginx</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">http_stub_status_module</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">http_ssl_module</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">http_gzip_static_module</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">with</span><span class="literal">-</span><span class="comment">ipv6</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
<span class="comment">cd</span> <span class="string">.</span><span class="string">.</span>
<span class="comment">ln</span> <span class="literal">-</span><span class="comment">s</span> <span class="comment">/usr/local/nginx/sbin/nginx</span> <span class="comment">/usr/bin/nginx</span>
</code></pre>
<h3>6.4 配置nginx</h3>
<pre><code class="lua">/usr/<span class="keyword">local</span>/nginx/conf/nginx.conf
</code></pre>
<p>下面是一份参考配置:</p>
<pre><code class="nginx"><span class="title">user</span>  www www;

<span class="title">worker_processes</span> auto;

<span class="title">error_log</span>  /home/wwwlogs/nginx_error.log  <span class="built_in">crit</span>;

<span class="title">pid</span>        /usr/local/nginx/logs/nginx.pid;

<span class="comment">#Specifies the value for maximum file descriptors that can be opened by this process.</span>
<span class="title">worker_rlimit_nofile</span> <span class="number">51200</span>;

<span class="title">events</span>
    {
        <span class="title">use</span> <span class="built_in">epoll</span>;
        <span class="title">worker_connections</span> <span class="number">51200</span>;
        <span class="title">multi_accept</span> <span class="built_in">on</span>;
    }

<span class="title">http</span>
    {
        <span class="title">include</span>       mime.types;
        <span class="title">default_type</span>  application/octet-stream;

        <span class="title">server_names_hash_bucket_size</span> <span class="number">128</span>;
        <span class="title">client_header_buffer_size</span> <span class="number">32k</span>;
        <span class="title">large_client_header_buffers</span> <span class="number">4</span> <span class="number">32k</span>;
        <span class="title">client_max_body_size</span> <span class="number">50m</span>;

        <span class="title">sendfile</span> <span class="built_in">on</span>;
        <span class="title">tcp_nopush</span>     <span class="built_in">on</span>;

        <span class="title">keepalive_timeout</span> <span class="number">60</span>;

        <span class="title">tcp_nodelay</span> <span class="built_in">on</span>;

        <span class="title">fastcgi_connect_timeout</span> <span class="number">300</span>;
        <span class="title">fastcgi_send_timeout</span> <span class="number">300</span>;
        <span class="title">fastcgi_read_timeout</span> <span class="number">300</span>;
        <span class="title">fastcgi_buffer_size</span> <span class="number">64k</span>;
        <span class="title">fastcgi_buffers</span> <span class="number">4</span> <span class="number">64k</span>;
        <span class="title">fastcgi_busy_buffers_size</span> <span class="number">128k</span>;
        <span class="title">fastcgi_temp_file_write_size</span> <span class="number">256k</span>;

        <span class="title">gzip</span> <span class="built_in">on</span>;
        <span class="title">gzip_min_length</span>  <span class="number">1k</span>;
        <span class="title">gzip_buffers</span>     <span class="number">4</span> <span class="number">16k</span>;
        <span class="title">gzip_http_version</span> <span class="number">1</span>.<span class="number">0</span>;
        <span class="title">gzip_comp_level</span> <span class="number">2</span>;
        <span class="title">gzip_types</span>       text/plain application/x-javascript text/css application/xml;
        <span class="title">gzip_vary</span> <span class="built_in">on</span>;
        <span class="title">gzip_proxied</span>        expired <span class="built_in">no</span>-cache <span class="built_in">no</span>-store private auth;
        <span class="title">gzip_disable</span>        <span class="string">"MSIE [1-6]\."</span>;

        <span class="comment">#limit_conn_zone $binary_remote_addr zone=perip:10m;</span>
        <span class="comment">##If enable limit_conn_zone,add "limit_conn perip 10;" to server section.</span>

        <span class="title">server_tokens</span> <span class="built_in">off</span>;
        <span class="comment">#log format</span>
        <span class="title">log_format</span>  access  <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span>  
        <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span>
        <span class="string">'"<span class="variable">$http_user_agent</span>" <span class="variable">$http_x_forwarded_for</span>'</span>;

<span class="title">server</span>
    {
        <span class="title">listen</span> <span class="number">80</span> default;
        <span class="comment">#listen [::]:80 default ipv6only=on;</span>
        <span class="title">server_name</span> www.lnmp.org;
        <span class="title">index</span> index.html index.htm index.php;
        <span class="title">root</span>  /home/wwwroot/default;

        <span class="comment">#error_page   404   /404.html;</span>
        <span class="title">location</span> <span class="regexp">~ [^/]\.php(/|$)</span>
            {
                <span class="comment"># comment try_files $uri =404; to enable pathinfo</span>
                <span class="title">try_files</span> <span class="variable">$uri</span> =<span class="number">404</span>;
                <span class="title">fastcgi_pass</span>  <span class="url">unix:/tmp/php-cgi.sock</span>;
                <span class="title">fastcgi_index</span> index.php;
                <span class="title">include</span> fastcgi.conf;
                <span class="comment">#include pathinfo.conf;</span>
            }

        <span class="title">location</span> /nginx_status {
            <span class="title">stub_status</span> <span class="built_in">on</span>;
            <span class="title">access_log</span>   <span class="built_in">off</span>;
        }

        <span class="title">location</span> <span class="regexp">~ .*\.(gif|jpg|jpeg|png|bmp|swf)$</span>
            {
                <span class="title">expires</span>      <span class="number">30d</span>;
            }

        <span class="title">location</span> <span class="regexp">~ .*\.(js|css)?$</span>
            {
                <span class="title">expires</span>      <span class="number">12h</span>;
            }

        <span class="title">access_log</span>  /home/wwwlogs/access.log  access;
    }
<span class="title">include</span> vhost/<span class="regexp">*.conf</span>;
}
</code></pre>
<h3>6.5 后期配置</h3>
<pre><code class="haskell"><span class="title">mkdir</span> -p /home/wwwroot/<span class="keyword">default</span>
<span class="title">chmod</span> +w /home/wwwroot/<span class="keyword">default</span>
<span class="title">mkdir</span> -p /home/wwwlogs
<span class="title">chmod</span> <span class="number">777</span> /home/wwwlogs

<span class="title">chown</span> -<span class="type">R</span> www:www /home/wwwroot/<span class="keyword">default</span>
</code></pre>
<h3>6.6 编写nginx启动脚本</h3>
<pre><code class="haskell"><span class="title">vim</span> /etc/init.d/nginx
<span class="title">chmod</span> +x /etc/init.d/nginx
</code></pre>
<p>下面是一份参考配置:</p>
<pre><code class="bash"><span class="shebang">#! /bin/sh</span>
<span class="comment"># chkconfig: 2345 55 25</span>
<span class="comment"># Description: Startup script for nginx webserver on Debian. Place in /etc/init.d and</span>
<span class="comment"># run 'update-rc.d -f nginx defaults', or use the appropriate command on your</span>
<span class="comment"># distro. For CentOS/Redhat run: 'chkconfig --add nginx'</span>

<span class="comment">### BEGIN INIT INFO</span>
<span class="comment"># Provides:          nginx</span>
<span class="comment"># Required-Start:    $all</span>
<span class="comment"># Required-Stop:     $all</span>
<span class="comment"># Default-Start:     2 3 4 5</span>
<span class="comment"># Default-Stop:      0 1 6</span>
<span class="comment"># Short-Description: starts the nginx web server</span>
<span class="comment"># Description:       starts nginx using start-stop-daemon</span>
<span class="comment">### END INIT INFO</span>

<span class="comment"># Author:   licess</span>
<span class="comment"># website:  http://lnmp.org</span>

PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
NAME=nginx
NGINX_BIN=/usr/local/nginx/sbin/<span class="variable">$NAME</span>
CONFIGFILE=/usr/local/nginx/conf/<span class="variable">$NAME</span>.conf
PIDFILE=/usr/local/nginx/logs/<span class="variable">$NAME</span>.pid
SCRIPTNAME=/etc/init.d/<span class="variable">$NAME</span>

<span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span>
    start)
        <span class="built_in">echo</span> -n <span class="string">"Starting <span class="variable">$NAME</span>... "</span>

        <span class="keyword">if</span> netstat -tnpl | grep -q nginx;<span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> (pid `pidof <span class="variable">$NAME</span>`) already running."</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        <span class="variable">$NGINX_BIN</span> -c <span class="variable">$CONFIGFILE</span>

        <span class="keyword">if</span> [ <span class="string">"$?"</span> != <span class="number">0</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    stop)
        <span class="built_in">echo</span> -n <span class="string">"Stoping <span class="variable">$NAME</span>... "</span>

        <span class="keyword">if</span> ! netstat -tnpl | grep -q nginx; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> is not running."</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        <span class="variable">$NGINX_BIN</span> <span class="operator">-s</span> stop

        <span class="keyword">if</span> [ <span class="string">"$?"</span> != <span class="number">0</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed. Use force-quit"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    status)
        <span class="keyword">if</span> netstat -tnpl | grep -q nginx; <span class="keyword">then</span>
            PID=`pidof nginx`
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> (pid <span class="variable">$PID</span>) is running..."</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> is stopped"</span>
            <span class="keyword">exit</span> <span class="number">0</span>
        <span class="keyword">fi</span>
    ;;

    force-quit)
        <span class="built_in">echo</span> -n <span class="string">"Terminating <span class="variable">$NAME</span>... "</span>

        <span class="keyword">if</span> ! netstat -tnpl | grep -q nginx; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> is not running."</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>

        kill `pidof <span class="variable">$NAME</span>`

        <span class="keyword">if</span> [ <span class="string">"$?"</span> != <span class="number">0</span> ] ; <span class="keyword">then</span>
            <span class="built_in">echo</span> <span class="string">" failed"</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">fi</span>
    ;;

    restart)
        <span class="variable">$SCRIPTNAME</span> stop
        sleep <span class="number">1</span>
        <span class="variable">$SCRIPTNAME</span> start
    ;;

    reload)

        <span class="built_in">echo</span> -n <span class="string">"Reload service <span class="variable">$NAME</span>... "</span>

        <span class="keyword">if</span> netstat -tnpl | grep -q nginx; <span class="keyword">then</span>
            <span class="variable">$NGINX_BIN</span> <span class="operator">-s</span> reload
            <span class="built_in">echo</span> <span class="string">" done"</span>
        <span class="keyword">else</span>
            <span class="built_in">echo</span> <span class="string">"<span class="variable">$NAME</span> is not running, can't reload."</span>
            <span class="keyword">exit</span> <span class="number">1</span>
        <span class="keyword">fi</span>
    ;;

    configtest)

        <span class="built_in">echo</span> -n <span class="string">"Test <span class="variable">$NAME</span> configure files... "</span>

        <span class="variable">$NGINX_BIN</span> -t
    ;;

    *)
        <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$SCRIPTNAME</span> {start|stop|force-quit|restart|reload|status|configtest}"</span>
        <span class="keyword">exit</span> <span class="number">1</span>
    ;;
<span class="keyword">esac</span>
</code></pre>
<h3>6.6 测试nginx</h3>
<h4>6.6.1 写php测试代码</h4>
<pre><code class="haskell"><span class="title">cat</span> &gt;/home/wwwroot/<span class="keyword">default</span>/index.php&lt;&lt;<span class="type">EOF</span>
&lt;?
<span class="title">phpinfo</span>();
?&gt;
<span class="type">EOF</span> 
</code></pre>
<h4>6.6.2</h4>
<p>启动nginx</p>
<pre><code class="brainfuck"><span class="comment">/etc/init</span><span class="string">.</span><span class="comment">d/nginx</span> <span class="comment">start</span>
<span class="comment">ps</span> <span class="literal">-</span><span class="comment">ef|grep</span> <span class="comment">nginx</span>
</code></pre>
<p>见到下图，代表启动成功:<br>
<img src="./TeamTalk_config_files/547139972.png" alt="nginx"></p>
<p>如果你开启了selinux，请关闭，否则访问不了:</p>
<pre><code class="brainfuck"><span class="comment">sed</span> <span class="literal">-</span><span class="comment">i</span> <span class="comment">'s/SELINUX=enforcing/SELINUX=disabled/g'</span> <span class="comment">/etc/selinux/config</span>
</code></pre>
<p>临时关闭selinux:</p>
<pre><code class="haskell"><span class="title">setenforce</span> <span class="number">0</span>
</code></pre>
<p>关闭防火墙:</p>
<pre><code class="haskell"><span class="title">service</span> iptables stop
</code></pre>
<p>通过浏览器访问下,如下图:</p>
<p><img src="./TeamTalk_config_files/1249448689.png" alt="index"></p>
<h2>7 设置开机启动</h2>
<pre><code class="brainfuck"><span class="comment">chkconfig</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">level</span> <span class="comment">345</span> <span class="comment">php</span><span class="literal">-</span><span class="comment">fpm</span> <span class="comment">on</span>
<span class="comment">chkconfig</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">level</span> <span class="comment">345</span> <span class="comment">nginx</span> <span class="comment">on</span>
<span class="comment">chkconfig</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">level</span> <span class="comment">345</span> <span class="comment">mysql</span> <span class="comment">on</span>
</code></pre>
<h2>7 安装redis</h2>
<h3>7.1 下载redis</h3>
<pre><code class="avrasm">wget http://download<span class="preprocessor">.redis</span><span class="preprocessor">.io</span>/releases/redis-<span class="number">2.8</span><span class="number">.19</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<p>这里会快很多:</p>
<pre><code class="avrasm">wget http://download<span class="preprocessor">.redis</span><span class="preprocessor">.io</span>/releases/redis-<span class="number">2.8</span><span class="number">.19</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>7.2 解压编译redis</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">redis</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">8</span><span class="string">.</span><span class="comment">19</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">redis</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">8</span><span class="string">.</span><span class="comment">19</span>
<span class="comment">make</span> <span class="comment">PREFIX=/usr/local/redis</span> <span class="comment">install</span>
</code></pre>
<h3>7.3 配置redis</h3>
<pre><code class="lasso">mkdir <span class="attribute">-p</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>redis<span class="subst">/</span>etc<span class="subst">/</span>
cp redis<span class="built_in">.</span>conf  <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>redis<span class="subst">/</span>etc<span class="subst">/</span>
sed <span class="attribute">-i</span> <span class="string">'s/daemonize no/daemonize yes/g'</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>redis<span class="subst">/</span>etc<span class="subst">/</span>redis<span class="built_in">.</span>conf
cd <span class="built_in">..</span>
</code></pre>
<h3>7.4 编写redis启动脚本</h3>
<pre><code class="haskell"><span class="title">vim</span> /etc/init.d/redis
<span class="title">chmod</span> +x /etc/init.d/redis
</code></pre>
<p>下面是一份参考配置:</p>
<pre><code class="bash"><span class="shebang">#! /bin/bash</span>
<span class="comment">#</span>
<span class="comment"># redis - this script starts and stops the redis-server daemon</span>
<span class="comment">#</span>
<span class="comment"># chkconfig:    2345 80 90</span>
<span class="comment"># description:  Redis is a persistent key-value database</span>
<span class="comment">#</span>
<span class="comment">### BEGIN INIT INFO</span>
<span class="comment"># Provides:          redis</span>
<span class="comment"># Required-Start:    $syslog</span>
<span class="comment"># Required-Stop:     $syslog</span>
<span class="comment"># Should-Start:        $local_fs</span>
<span class="comment"># Should-Stop:        $local_fs</span>
<span class="comment"># Default-Start:     2 3 4 5</span>
<span class="comment"># Default-Stop:      0 1 6</span>
<span class="comment"># Short-Description:    redis-server daemon</span>
<span class="comment"># Description:        redis-server daemon</span>
<span class="comment">### END INIT INFO</span>

REDISPORT=<span class="number">6379</span>
EXEC=/usr/local/redis/bin/redis-server
REDIS_CLI=/usr/local/redis/bin/redis-cli

PIDFILE=/var/run/redis.pid
CONF=<span class="string">"/usr/local/redis/etc/redis.conf"</span>

<span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span>
    start)
        <span class="keyword">if</span> [ <span class="operator">-f</span> <span class="variable">$PIDFILE</span> ]
        <span class="keyword">then</span>
                <span class="built_in">echo</span> <span class="string">"<span class="variable">$PIDFILE</span> exists, process is already running or crashed"</span>
        <span class="keyword">else</span>
                <span class="built_in">echo</span> <span class="string">"Starting Redis server..."</span>
                <span class="variable">$EXEC</span> <span class="variable">$CONF</span>
        <span class="keyword">fi</span>
        <span class="keyword">if</span> [ <span class="string">"$?"</span>=<span class="string">"0"</span> ]
        <span class="keyword">then</span>
              <span class="built_in">echo</span> <span class="string">"Redis is running..."</span>
        <span class="keyword">fi</span>
        ;;
    stop)
        <span class="keyword">if</span> [ ! <span class="operator">-f</span> <span class="variable">$PIDFILE</span> ]
        <span class="keyword">then</span>
                <span class="built_in">echo</span> <span class="string">"<span class="variable">$PIDFILE</span> does not exist, process is not running"</span>
        <span class="keyword">else</span>
                PID=$(cat <span class="variable">$PIDFILE</span>)
                <span class="built_in">echo</span> <span class="string">"Stopping ..."</span>
                <span class="variable">$REDIS_CLI</span> -p <span class="variable">$REDISPORT</span> shutdown
                <span class="keyword">while</span> [ -x <span class="variable">${PIDFILE}</span> ]
                <span class="keyword">do</span>
                    <span class="built_in">echo</span> <span class="string">"Waiting for Redis to shutdown ..."</span>
                    sleep <span class="number">1</span>
                <span class="keyword">done</span>
                <span class="built_in">echo</span> <span class="string">"Redis stopped"</span>
        <span class="keyword">fi</span>
        ;;
   restart)
        <span class="variable">${0}</span> stop
        <span class="variable">${0}</span> start
        ;;
  *)
    <span class="built_in">echo</span> <span class="string">"Usage: /etc/init.d/redis {start|stop|restart}"</span> &gt;&amp;<span class="number">2</span>
    <span class="keyword">exit</span> <span class="number">1</span>
<span class="keyword">esac</span>
</code></pre>
<h3>7.5 启动redis</h3>
<pre><code class="sql">/etc/init.d/redis <span class="operator"><span class="keyword">start</span>
</span></code></pre>
<p>查看redis是否启动</p>
<pre><code class="brainfuck"><span class="comment">ps</span> <span class="literal">-</span><span class="comment">ef|grep</span> <span class="comment">redis</span>
</code></pre>
<p>如果看到如下图，恭喜你，启动成功:<br>
<img src="./TeamTalk_config_files/870723699.png" alt="redis"></p>
<h2>8 升级gcc，gdb等(非常漫长,如果系统中自带的g++支持C++11，可跳过此步骤)</h2>
<h3>8.1 下载gcc4.9.2</h3>
<p>使用日本的源可能会快些:</p>
<pre><code class="avrasm">wget http://ftp<span class="preprocessor">.tsukuba</span><span class="preprocessor">.wide</span><span class="preprocessor">.ad</span><span class="preprocessor">.jp</span>/software/gcc/releases/gcc-<span class="number">4.9</span><span class="number">.2</span>/gcc-<span class="number">4.9</span><span class="number">.2</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>8.2 解压编译gcc4.9.2</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">9</span><span class="string">.</span><span class="comment">2</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">9</span><span class="string">.</span><span class="comment">2</span>
<span class="string">.</span><span class="comment">/contrib/download_prerequisites</span>
<span class="comment">mkdir</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">build</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">9</span><span class="string">.</span><span class="comment">2</span>
<span class="comment">cd</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">build</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">9</span><span class="string">.</span><span class="comment">2</span>
<span class="string">.</span><span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr</span> <span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">checking=release</span> <span class="literal">-</span><span class="comment">enable</span><span class="literal">-</span><span class="comment">languages=c</span><span class="string">,</span><span class="comment">c</span><span class="literal">+</span><span class="literal">+</span> <span class="literal">-</span><span class="comment">disable</span><span class="literal">-</span><span class="comment">multilib</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
<span class="comment">cd</span> <span class="string">.</span><span class="string">.</span><span class="comment">/</span><span class="string">.</span><span class="string">.</span><span class="comment">/</span>
</code></pre>
<h3>8.3 下载termcap</h3>
<pre><code class="avrasm">wget ftp://ftp<span class="preprocessor">.gnu</span><span class="preprocessor">.org</span>/gnu/termcap/termcap-<span class="number">1.3</span><span class="number">.1</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>8.4 解压编译termcap</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">termcap</span><span class="literal">-</span><span class="comment">1</span><span class="string">.</span><span class="comment">3</span><span class="string">.</span><span class="comment">1</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">termcap</span><span class="literal">-</span><span class="comment">1</span><span class="string">.</span><span class="comment">3</span><span class="string">.</span><span class="comment">1</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
</code></pre>
<h3>8.5 下载gdb</h3>
<pre><code class="avrasm">wget http://ftp<span class="preprocessor">.gnu</span><span class="preprocessor">.org</span>/gnu/gdb/gdb-<span class="number">7.9</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</code></pre>
<h3>8.6 解压编译gdb</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">gdb</span><span class="literal">-</span><span class="comment">7</span><span class="string">.</span><span class="comment">9</span><span class="string">.</span><span class="comment">tar</span><span class="string">.</span><span class="comment">gz</span>
<span class="comment">cd</span> <span class="comment">gdb</span><span class="literal">-</span><span class="comment">7</span><span class="string">.</span><span class="comment">9</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
</code></pre>
<h2>9 重启电脑</h2>
<pre><code class="brainfuck"><span class="comment">shutdown</span> <span class="literal">-</span><span class="comment">r</span> <span class="comment">now</span>
</code></pre>
<h2>10 安装PB</h2>
<h3>10.1 下载pb</h3>
<pre><code class="ruby">wget <span class="symbol">https:</span>/<span class="regexp">/github.com/google</span><span class="regexp">/protobuf/releases</span><span class="regexp">/download/v</span>2.<span class="number">6.1</span>/protobuf-<span class="number">2.6</span>.<span class="number">1</span>.tar.gz
</code></pre>
<h3>10.2 解压编译pb</h3>
<pre><code class="brainfuck"><span class="comment">tar</span> <span class="literal">-</span><span class="comment">zxvf</span> <span class="comment">protobuf</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">1</span>
<span class="comment">cd</span> <span class="comment">protobuf</span><span class="literal">-</span><span class="comment">2</span><span class="string">.</span><span class="comment">6</span><span class="string">.</span><span class="comment">1</span>
<span class="string">.</span><span class="comment">/configure</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">prefix=/usr/local/protobuf</span>
<span class="comment">make</span> <span class="literal">-</span><span class="comment">j</span> <span class="comment">2</span> <span class="comment">&amp;&amp;</span> <span class="comment">make</span> <span class="comment">install</span>
</code></pre>
<h2>11 下载TeamTalk代码</h2>
<pre><code class="php">git <span class="keyword">clone</span> https:<span class="comment">//github.com/mogujie/TeamTalk.git</span>
</code></pre>
<h2>12 生成pb文件</h2>
<h3>12.1 拷贝pb相关文件</h3>
<p>拷贝pb的库、头文件到TeamTalk相关目录中:</p>
<pre><code class="lasso">mkdir <span class="attribute">-p</span> <span class="subst">/</span>root<span class="subst">/</span>TeamTalk<span class="subst">/</span>server<span class="subst">/</span>src<span class="subst">/</span>base<span class="subst">/</span>pb<span class="subst">/</span>lib<span class="subst">/</span>linux<span class="subst">/</span>
cp <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>protobuf<span class="subst">/</span>lib<span class="subst">/</span>libprotobuf<span class="attribute">-lite</span><span class="built_in">.</span>a <span class="subst">/</span>root<span class="subst">/</span>TeamTalk<span class="subst">/</span>server<span class="subst">/</span>src<span class="subst">/</span>base<span class="subst">/</span>pb<span class="subst">/</span>lib<span class="subst">/</span>linux<span class="subst">/</span>
cp  <span class="attribute">-r</span> <span class="subst">/</span>usr<span class="subst">/</span><span class="built_in">local</span><span class="subst">/</span>protobuf<span class="subst">/</span>include<span class="comment">/* /root/TeamTalk/server/src/base/pb/
</span></code></pre>
<h3>12.2 生成pb协议</h3>
<pre><code class="bash"><span class="built_in">cd</span> /root/TeamTalk/pb
</code></pre>
<p>执行:</p>
<pre><code class="ruby">export <span class="constant">PATH</span>=<span class="variable">$PATH</span><span class="symbol">:/usr/local/protobuf/bin</span>
export <span class="constant">LD_LIBRARY_PATH</span>=<span class="variable">$LD_LIBRARY_PATH</span><span class="symbol">:/usr/local/protobuf/lib</span>
sh create.sh
</code></pre>
<p>生成协议相关源码文件。</p>
<p>再执行:</p>
<pre><code class="haskell"><span class="title">sh</span> sync.sh
</code></pre>
<p>将相关文件拷贝到server 目录下。</p>
<h2>13 安装依赖</h2>
<pre><code class="haskell"><span class="title">cd</span> /root/<span class="type">TeamTalk</span>/server/src
<span class="title">sh</span> make_log4cxx.sh
<span class="title">sh</span> make_hiredis.sh
</code></pre>
<h2>14 编译server</h2>
<h3>14.1 编译</h3>
<p>由于我们是源码安装mysql的，所以对db_proxy_server中的CMakeList做一定的修改.<br>
原来:</p>
<pre><code class="cmake"><span class="keyword">SET</span>(MYSQL_INCLUDE_DIR /usr/<span class="keyword">include</span>/mysql)
<span class="keyword">SET</span>(MYSQL_LIB /usr/lib64/mysql)
</code></pre>
<p>修改为:</p>
<pre><code class="sql"><span class="operator"><span class="keyword">SET</span>(MYSQL_INCLUDE_DIR /usr/<span class="keyword">local</span>/mysql/include)
<span class="keyword">SET</span>(MYSQL_LIB /usr/<span class="keyword">local</span>/mysql/lib)
</span></code></pre>
<p>进入server目录下，执行:</p>
<pre><code class="haskell"><span class="title">sh</span> build.sh version <span class="number">1.0</span><span class="number">.0</span>
</code></pre>
<p>如果一切顺利，你将会看到如下画面:</p>
<p><img src="./TeamTalk_config_files/2076713939.png" alt="compile success"></p>
<h2>15 配置server(时间太晚了，明天再来写吧)</h2>
<p>配置就以本机192.168.1.150 为例。</p>
<h3>15.1 配置文件说明:</h3>
<h4>15.1.1 login_server</h4>
<pre><code class="ini"><span class="setting">ClientListenIP=<span class="value"><span class="number">0.0</span>.<span class="number">0.0</span>      # can use multiple ip, seperate by ';'</span></span>
<span class="setting">ClientPort=<span class="value"><span class="number">8008</span></span></span>
<span class="setting">HttpListenIP=<span class="value"><span class="number">0.0</span>.<span class="number">0.0</span></span></span>
<span class="setting">HttpPort=<span class="value"><span class="number">8080</span></span></span>
<span class="setting">MsgServerListenIP=<span class="value"><span class="number">0.0</span>.<span class="number">0.0</span>   # can use multiple ip, seperate by ';'</span></span>
<span class="setting">MsgServerPort=<span class="value"><span class="number">8100</span></span></span>
<span class="setting">msfs=<span class="value">http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">8700</span>/</span></span>
<span class="setting">discovery=<span class="value">http://<span class="number">127.0</span>.<span class="number">0.1</span>/api/discovery</span></span>
</code></pre>
<p>ClientListenIP:目前已经作废。<br>
ClientPort:与上一个配套，同样作废。<br>
HttpListenIP:供客户端过来获取msg_server及其他参数的接口地址，走http协议。<br>
HttpPort:与上一个配套使用。<br>
MsgServerListenIP:用于监听msg_server上报信息使用。<br>
MsgServerPort:与上一个配套使用。msg_server启动的时候回来连接该ip:port，以上报自己的信息。<br>
在运行过程中，也会实时将自己的信息汇报给login_server。<br>
msfs:小文件存储的地址，该配置是提供给客户端获取参数时使用。<br>
discovery:发现内容获取地址，该配置是提供给客户端获取参数时使用。</p>
<p>参考配置:</p>
<pre><code class="ini"><span class="setting">ClientListenIP=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">ClientPort=<span class="value"><span class="number">8008</span></span></span>
<span class="setting">HttpListenIP=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">HttpPort=<span class="value"><span class="number">8080</span></span></span>
<span class="setting">MsgServerListenIP=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">MsgServerPort=<span class="value"><span class="number">8100</span></span></span>
<span class="setting">msfs=<span class="value">http://<span class="number">192.168</span>.<span class="number">1.150</span>:<span class="number">8700</span>/</span></span>
<span class="setting">discovery=<span class="value">http://<span class="number">192.168</span>.<span class="number">1.150</span>/api/discovery</span></span>
</code></pre>
<h4>15.1.2 route_server</h4>
<pre><code class="bash">ListenIP=<span class="number">0.0</span>.<span class="number">0.0</span>            <span class="comment"># Listening IP</span>
ListenMsgPort=<span class="number">8200</span>          <span class="comment"># Listening Port for MsgServer</span>
</code></pre>
<p>route_server配置比较简单，一个监听ip，一个监听port就OK了，供msg_server连接上来用。</p>
<p>参考配置:</p>
<pre><code class="ini"><span class="setting">ListenIP=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">ListenMsgPort=<span class="value"><span class="number">8200</span></span></span>
</code></pre>
<h4>15.1.3 http_msg_server</h4>
<pre><code class="makefile"><span class="constant">ListenIP</span>=0.0.0.0
<span class="constant">ListenPort</span>=8400
<span class="constant">ConcurrentDBConnCnt</span>=4
<span class="constant">DBServerIP1</span>=127.0.0.1
<span class="constant">DBServerPort1</span>=10600
<span class="constant">DBServerIP2</span>=127.0.0.1
<span class="constant">DBServerPort2</span>=10600
<span class="constant">RouteServerIP1</span>=localhost
<span class="constant">RouteServerPort1</span>=8200
<span class="comment">#RouteServerIP2=localhost</span>
<span class="comment">#RouteServerPort2=8201</span>
</code></pre>
<p>ListenIP:监听IP，供其他人来调用http_msg_server接口，比如，php在创建群组的时候，就会来调用http_msg_server的接口。<br>
ListenPort:监听端口，与上一个配套使用。<br>
ConcurrentDBConnCnt:DB数目，目前必须配置为2的整数倍，是历史遗留问题，后期会修复。<br>
DBServerIP(x):db_proxy_server监听的IP，http_msg_server会主动去连接。<br>
DBServerPort(x):db_proxy_server监听的Port<br>
RouteServerIP(x):route_server监听的IP，http_msg_server会主动去连接。<br>
RouteServer(x):route_server监听的Port</p>
<p>参考配置:</p>
<pre><code class="ini"><span class="setting">ListenIP=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">ListenPort=<span class="value"><span class="number">8400</span></span></span>
<span class="setting">ConcurrentDBConnCnt=<span class="value"><span class="number">4</span></span></span>
<span class="setting">DBServerIP1=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">DBServerPort1=<span class="value"><span class="number">10600</span></span></span>
<span class="setting">DBServerIP2=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">DBServerPort2=<span class="value"><span class="number">10600</span></span></span>
<span class="setting">RouteServerIP1=<span class="value"><span class="number">192.168</span>.<span class="number">1.150</span></span></span>
<span class="setting">RouteServerPort1=<span class="value"><span class="number">8200</span></span></span>
</code></pre>
<h4>15.1.4 msg_server</h4>
<pre><code class="makefile"><span class="constant">ListenIP</span>=0.0.0.0
<span class="constant">ListenPort</span>=8000

<span class="constant">ConcurrentDBConnCnt</span>=2
<span class="constant">DBServerIP1</span>=127.0.0.1
<span class="constant">DBServerPort1</span>=10600
<span class="constant">DBServerIP2</span>=127.0.0.1
<span class="constant">DBServerPort2</span>=10600

<span class="constant">LoginServerIP1</span>=127.0.0.1
<span class="constant">LoginServerPort1</span>=8100
<span class="comment">#LoginServerIP2=localhost</span>
<span class="comment">#LoginServerPort2=8101</span>

<span class="constant">RouteServerIP1</span>=127.0.0.1
<span class="constant">RouteServerPort1</span>=8200
<span class="comment">#RouteServerIP2=localhost</span>
<span class="comment">#RouteServerPort2=8201</span>

<span class="constant">PushServerIP1</span>=127.0.0.1
<span class="constant">PushServerPort1</span>=8500

<span class="constant">FileServerIP1</span>=127.0.0.1
<span class="constant">FileServerPort1</span>=8600
<span class="comment">#FileServerIP2=localhost</span>
<span class="comment">#FileServerPort2=8601</span>

<span class="constant">IpAddr1</span>=127.0.0.1   #电信IP
<span class="constant">IpAddr2</span>=127.0.0.1   #网通IP
<span class="constant">MaxConnCnt</span>=100000

<span class="comment">#AES 密钥</span>
<span class="constant">aesKey</span>=12345678901234567890123456789012
</code></pre>
<p>ListenIP:监听客户端连接上来的IP。<br>
ListenPort:与上一个配套使用，监听客户端连接的port。<br>
ConcurrentDBConnCnt:db_proxy_server个数，同http_msg_server 一样。<br>
DBServerIP(x):db_proxy_server监听的ip，msg_server主动去连接。<br>
DBServerPort(x):db_proxy_server监听的port。<br>
LoginServerIP(x):login_server监听的ip，msg_server会主动去连接，汇报本机信息。<br>
LoginServerPort(x):login_server监听的port。<br>
RouteServerIP(x):route_server监听的IP，msg_server主动去连接。<br>
RouteServerPort(x):route_server监听的port。<br>
PushServerIP(x):push_server监听的IP，msg_server会主动去连接，给ios系统推送消息。<br>
PushServerPort(x):push_server监听的port。<br>
FileServerIP(x):file_server监听的IP，msg_server会主动去连接，用于文件传输，暂时未用到。<br>
FileServerPort(x):file_server监听的port。<br>
IpAddr1:msg_server监听的ip，用于汇报给login_server，便于login_server在客户端请求的时候返回给客户端。注意，这个ip一定要是客户端能连接的ip，之前发现好多人配置成127.0.0.1，这是不行的。<br>
IpAddr2:同上。<br>
aesKey:消息文本加密密钥.这里配置主要在msg_server向push_server推送的时候需要将加密的消息进行解密。</p>
<p>参考配置:</p>
<pre><code class="makefile"><span class="constant">ListenIP</span>=192.168.1.150
<span class="constant">ListenPort</span>=8000

<span class="constant">ConcurrentDBConnCnt</span>=2
<span class="constant">DBServerIP1</span>=192.168.1.150
<span class="constant">DBServerPort1</span>=10600
<span class="constant">DBServerIP2</span>=192.168.1.150
<span class="constant">DBServerPort2</span>=10600

<span class="constant">LoginServerIP1</span>=192.168.1.150
<span class="constant">LoginServerPort1</span>=8100

<span class="constant">RouteServerIP1</span>=192.168.1.150
<span class="constant">RouteServerPort1</span>=8200

<span class="constant">PushServerIP1</span>=192.168.1.150
<span class="constant">PushServerPort1</span>=8500

<span class="constant">FileServerIP1</span>=192.168.1.150
<span class="constant">FileServerPort1</span>=8600

<span class="constant">IpAddr1</span>=192.168.1.150   #电信IP
<span class="constant">IpAddr2</span>=192.168.1.150   #网通IP
<span class="constant">MaxConnCnt</span>=100000

<span class="comment">#AES 密钥</span>
<span class="constant">aesKey</span>=12345678901234567890123456789012
</code></pre>
<h4>15.1.5 db_proxy_server</h4>
<pre><code class="makefile"><span class="constant">ListenIP</span>=127.0.0.1
<span class="constant">ListenPort</span>=10600
<span class="constant">ThreadNum</span>=48        # double the number of CPU core
<span class="constant">MsfsSite</span>=127.0.0.1

<span class="comment">#configure for mysql</span>
<span class="constant">DBInstances</span>=teamtalk_master,teamtalk_slave
<span class="comment">#teamtalk_master</span>
<span class="constant">teamtalk_master_host</span>=127.0.0.1
<span class="constant">teamtalk_master_port</span>=3306
<span class="constant">teamtalk_master_dbname</span>=teamtalk
<span class="constant">teamtalk_master_username</span>=root
<span class="constant">teamtalk_master_password</span>=12345
<span class="constant">teamtalk_master_maxconncnt</span>=16

<span class="comment">#teamtalk_slave</span>
<span class="constant">teamtalk_slave_host</span>=127.0.0.1
<span class="constant">teamtalk_slave_port</span>=3306
<span class="constant">teamtalk_slave_dbname</span>=teamtalk
<span class="constant">teamtalk_slave_username</span>=root
<span class="constant">teamtalk_slave_password</span>=12345
<span class="constant">teamtalk_slave_maxconncnt</span>=16


<span class="comment">#configure for unread</span>
<span class="constant">CacheInstances</span>=unread,group_set,token,group_member
<span class="comment">#未读消息计数器的redis</span>
<span class="constant">unread_host</span>=127.0.0.1
<span class="constant">unread_port</span>=6379
<span class="constant">unread_db</span>=1
<span class="constant">unread_maxconncnt</span>=16

<span class="comment">#群组设置redis</span>
<span class="constant">group_set_host</span>=127.0.0.1
<span class="constant">group_set_port</span>=6379
<span class="constant">group_set_db</span>=2
<span class="constant">group_set_maxconncnt</span>=16

<span class="comment">#deviceToken redis</span>
<span class="constant">token_host</span>=127.0.0.1
<span class="constant">token_port</span>=6379
<span class="constant">token_db</span>=4
<span class="constant">token_maxconncnt</span>=16

<span class="comment">#GroupMember</span>
<span class="constant">group_member_host</span>=127.0.0.1
<span class="constant">group_member_port</span>=6379
<span class="constant">group_member_db</span>=5
<span class="constant">group_member_maxconncnt</span>=48

<span class="comment">#AES 密钥</span>
<span class="constant">aesKey</span>=12345678901234567890123456789012
</code></pre>
<p>ListenIP:db_proxy_server监听的IP。<br>
ListenPort:db_proxy_server监听的port<br>
ThreadNum:工作线程个数。<br>
MsfsSite:配置msfs服务器的地址，用于发送语音的时候上传保存语音文本。<br>
DBInstances:db实例名称。一般配置一主一从即可，其他根据自己的需求修改。<br>
(xxxx)_host:xxxx实例的ip<br>
(xxxx)_port:xxxx实例的port<br>
(xxxx)_dbname:xxxx实例的scheme名称<br>
(xxxx)_username:xxxx实例的用户名<br>
(xxxx)_password:xxxx实例的密码<br>
(xxxx)_maxconncnt:xxxx实例最大连接数<br>
CacheInstances:cache实例名称。<br>
(xxxx)_host:xxxx实例的ip<br>
(xxxx)_port:xxxx实例的port<br>
(xxxx)_db:xxxx实例的db<br>
(xxxx)_maxconncnt:xxxx<br>
aesKey:消息加密密钥。<br>
目前我们db实例配置的一主一从，cache实例配置了5个实例，分别是:<br>
unread:主要用于未读计数。<br>
group_set:群组设置。设置屏蔽群组。<br>
token:主要用于保存ios系统的token。<br>
group_member:保存群成员信息。</p>
<p>参考配置:</p>
<pre><code class="makefile"><span class="constant">ListenIP</span>=192.168.1.150
<span class="constant">ListenPort</span>=10600
<span class="constant">ThreadNum</span>=48        # double the number of CPU core
<span class="constant">MsfsSite</span>=http://192.168.1.150:8700/

<span class="comment">#configure for mysql</span>
<span class="constant">DBInstances</span>=teamtalk_master,teamtalk_slave
<span class="comment">#teamtalk_master</span>
<span class="constant">teamtalk_master_host</span>=192.168.1.150
<span class="constant">teamtalk_master_port</span>=3306
<span class="constant">teamtalk_master_dbname</span>=teamtalk
<span class="constant">teamtalk_master_username</span>=teamtalk
<span class="constant">teamtalk_master_password</span>=test@123
<span class="constant">teamtalk_master_maxconncnt</span>=16

<span class="comment">#teamtalk_slave</span>
<span class="constant">teamtalk_slave_host</span>=192.168.1.150
<span class="constant">teamtalk_slave_port</span>=3306
<span class="constant">teamtalk_slave_dbname</span>=teamtalk
<span class="constant">teamtalk_slave_username</span>=teamtalk
<span class="constant">teamtalk_slave_password</span>=test@123
<span class="constant">teamtalk_slave_maxconncnt</span>=16


<span class="comment">#configure for unread</span>
<span class="constant">CacheInstances</span>=unread,group_set,token,group_member
<span class="comment">#未读消息计数器的redis</span>
<span class="constant">unread_host</span>=192.168.1.150
<span class="constant">unread_port</span>=6379
<span class="constant">unread_db</span>=1
<span class="constant">unread_maxconncnt</span>=16

<span class="comment">#群组设置redis</span>
<span class="constant">group_set_host</span>=192.168.1.150
<span class="constant">group_set_port</span>=6379
<span class="constant">group_set_db</span>=2
<span class="constant">group_set_maxconncnt</span>=16

<span class="comment">#deviceToken redis</span>
<span class="constant">token_host</span>=192.168.1.150
<span class="constant">token_port</span>=6379
<span class="constant">token_db</span>=4
<span class="constant">token_maxconncnt</span>=16

<span class="comment">#GroupMember</span>
<span class="constant">group_member_host</span>=192.168.1.150
<span class="constant">group_member_port</span>=6379
<span class="constant">group_member_db</span>=5
<span class="constant">group_member_maxconncnt</span>=48

<span class="comment">#AES 密钥</span>
<span class="constant">aesKey</span>=12345678901234567890123456789012
</code></pre>
<h2>16、更新</h2>
<h3>16.1 导入mysql</h3>
<p>登陆mysql:</p>
<pre><code class="brainfuck"><span class="comment">mysql</span> <span class="literal">-</span><span class="comment">uroot</span> <span class="literal">-</span><span class="comment">p</span>
</code></pre>
<p>输入密码:test123.<br>
创建TeamTalk数据库:</p>
<pre><code class="haskell"><span class="title">create</span> database teamtalk
</code></pre>
<p>见到如下:</p>
<pre><code class="sql">mysql&gt; <span class="operator"><span class="keyword">create</span> database teamtalk;</span>
Query OK, 1 row affected (0.00 sec)
</code></pre>
<p>创建成功。<br>
创建teamtalk用户并给teamtalk用户授权teamtalk的操作:</p>
<pre><code class="sql"><span class="operator"><span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">insert</span>,<span class="keyword">update</span>,<span class="keyword">delete</span> <span class="keyword">on</span> teamtalk.* <span class="keyword">to</span> <span class="string">'teamtalk'</span>@<span class="string">'%'</span> identified <span class="keyword">by</span> <span class="string">'test@123'</span>;</span>
flush privileges;
</code></pre>
<p>导入数据库.</p>
<pre><code class="avrasm">use teamtalk<span class="comment">;</span>
source /root/TeamTalk/auto_setup/mariadb/conf/ttopen<span class="preprocessor">.sql</span><span class="comment">;</span>
show tables<span class="comment">;</span>
</code></pre>
<p>如下:</p>
<pre><code class="brainfuck"><span class="comment">mysql</span>&gt; <span class="comment">show</span> <span class="comment">tables;</span>
<span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="comment">|</span> <span class="comment">Tables_in_teamtalk</span> <span class="comment">|</span>
<span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="comment">|</span> <span class="comment">IMAdmin</span>            <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMAudio</span>            <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMDepart</span>           <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMDiscovery</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroup</span>            <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMember</span>      <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_0</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_1</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_2</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_3</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_4</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_5</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_6</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMGroupMessage_7</span>   <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_0</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_1</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_2</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_3</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_4</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_5</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_6</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMMessage_7</span>        <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMRecentSession</span>    <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMRelationShip</span>     <span class="comment">|</span>
<span class="comment">|</span> <span class="comment">IMUser</span>             <span class="comment">|</span>
<span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="comment">25</span> <span class="comment">rows</span> <span class="comment">in</span> <span class="comment">set</span> <span class="comment">(0</span><span class="string">.</span><span class="comment">00</span> <span class="comment">sec)</span>

<span class="comment">mysql</span>&gt;
</code></pre>
<h3>16.2 修改php</h3>
<p>执行如下命令:</p>
<pre><code class="haskell"><span class="title">cd</span> /home/wwwroot/<span class="keyword">default</span>
<span class="title">cp</span> -r /root/<span class="type">TeamTalk</span>/php/* /home/wwwroot/<span class="keyword">default</span>
</code></pre>
<p>修改config.php:</p>
<pre><code class="haskell"><span class="title">vim</span> application/config/config.php
</code></pre>
<p>修改第18-19行:</p>
<pre><code class="vhdl">$config[<span class="attribute">'msfs_url</span>'] = <span class="attribute">'http</span>://<span class="number">192.168</span><span class="number">.1</span><span class="number">.150</span>:<span class="number">8700</span>/';
$config[<span class="attribute">'http_url</span>'] = <span class="attribute">'http</span>://<span class="number">192.168</span><span class="number">.1</span><span class="number">.150</span>:<span class="number">8400</span>';
</code></pre>
<p>修改database.php</p>
<pre><code class="haskell"><span class="title">vim</span> application/config/database.php
</code></pre>
<p>修改52-54行:</p>
<pre><code class="vhdl">$db[<span class="attribute">'default</span>'][<span class="attribute">'hostname</span>'] = '<span class="number">192.168</span><span class="number">.1</span><span class="number">.150</span>';
$db[<span class="attribute">'default</span>'][<span class="attribute">'username</span>'] = <span class="attribute">'tamtalk</span>';
$db[<span class="attribute">'default</span>'][<span class="attribute">'password</span>'] = <span class="attribute">'test</span>@<span class="number">123</span>';
$db[<span class="attribute">'default</span>'][<span class="attribute">'database</span>'] = <span class="attribute">'teamtalk</span>';
</code></pre>
<p>访问后，看到如下图:</p>
<p><img src="./TeamTalk_config_files/2033124335.png" alt="success"></p>
<h3>16.3 修改nginx.conf</h3>
<p>之前给出的配置有点问题,新配置如下:</p>
<pre><code class="perl">user  www www;
worker_processes auto;
error_log  /home/wwwlogs/nginx_error.<span class="keyword">log</span>  crit;
pid        /usr/<span class="keyword">local</span>/nginx/logs/nginx.pid;
<span class="comment">#Specifies the value for maximum file descriptors that can be opened by this process.</span>
worker_rlimit_nofile <span class="number">51200</span>;
events
    {
        <span class="keyword">use</span> epoll;
        worker_connections <span class="number">51200</span>;
        multi_accept on;
    }
http
    {
        include       mime.types;
        default_type  application/octet-stream;
        server_names_hash_bucket_size <span class="number">128</span>;
        client_header_buffer_size <span class="number">32</span>k;
        large_client_header_buffers <span class="number">4</span> <span class="number">32</span>k;
        client_max_body_size <span class="number">50</span><span class="keyword">m</span>;
        sendfile on;
        tcp_nopush     on;
        keepalive_timeout <span class="number">60</span>;
        tcp_nodelay on;
        fastcgi_connect_timeout <span class="number">300</span>;
        fastcgi_send_timeout <span class="number">300</span>;
        fastcgi_read_timeout <span class="number">300</span>;
        fastcgi_buffer_size <span class="number">64</span>k;
        fastcgi_buffers <span class="number">4</span> <span class="number">64</span>k;
        fastcgi_busy_buffers_size <span class="number">128</span>k;
        fastcgi_temp_file_write_size <span class="number">256</span>k;
        gzip on;
        gzip_min_length  <span class="number">1</span>k;
        gzip_buffers     <span class="number">4</span> <span class="number">16</span>k;
        gzip_http_version <span class="number">1.0</span>;
        gzip_comp_level <span class="number">2</span>;
        gzip_types       text/plain application/<span class="keyword">x</span>-javascript text/css application/xml;
        gzip_vary on;
        gzip_proxied        expired <span class="keyword">no</span>-cache <span class="keyword">no</span>-store private auth;
        gzip_disable        <span class="string">"MSIE [1-6]\."</span>;
        server_tokens off;
        log_format  access  <span class="string">'$remote_addr - $remote_user [$time_local] "$request" '</span>
        <span class="string">'$status $body_bytes_sent "$http_referer" '</span>
        <span class="string">'"$http_user_agent" $http_x_forwarded_for'</span>;

server
    {
            <span class="keyword">listen</span>       <span class="number">80</span>;
            server_name <span class="number">192.168</span>.<span class="number">1.150</span>;
            <span class="keyword">index</span> <span class="keyword">index</span>.html <span class="keyword">index</span>.htm <span class="keyword">index</span>.php default.html default.htm default.php;
            root        /home/wwwroot/default;

            location ~ \.php(<span class="variable">$|</span>/) {
                fastcgi_pass   unix:<span class="regexp">/tmp/php</span>-cgi.sock;
                fastcgi_index  <span class="keyword">index</span>.php;
                fastcgi_split_path_info ^(.+\.php)(.<span class="variable">*)</span><span class="variable">$;</span>
                fastcgi_param   PATH_INFO <span class="variable">$fastcgi_path_info</span>;
                fastcgi_param  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;
                include        fastcgi_params;
            }

            location ~ .<span class="variable">*\</span>.(gif|jpg|jpeg|png|bmp|swf)$
                    {
                            expires      <span class="number">30</span>d;
                    }

            location ~ .<span class="variable">*\</span>.(js|css)?$
                    {
                            expires      <span class="number">12</span>h;
                    }
            <span class="keyword">if</span> (!-e <span class="variable">$request_filename</span>) {
                rewrite ^<span class="regexp">/(.*)$ /index</span>.php/<span class="variable">$1</span> <span class="keyword">last</span>;
                <span class="keyword">break</span>;
            }
    }
}
</code></pre>
<h2>17、测试</h2>
<p>在后台添加test用户，运行ios 模拟器，登陆看到如下图<br>
<img src="./TeamTalk_config_files/3644175025.png" alt="ios"></p>
<h2>18、virtualBox 环境</h2>
<p>置于怎么加载虚拟机，怎么运行虚拟机请自行百度，谷歌。</p>
<h3>18.1 我虚拟机的环境</h3>
<pre><code class="avrasm">链接: http://pan<span class="preprocessor">.baidu</span><span class="preprocessor">.com</span>/s/<span class="number">1</span>sjx8g49 密码: <span class="number">4572</span>
</code></pre>
<h3>18.2 虚拟机硬盘</h3>
<p>因网盘大小限制1G，所以将虚拟机硬盘切分成3个文件上传:</p>
<pre><code class="avrasm">链接: http://pan<span class="preprocessor">.baidu</span><span class="preprocessor">.com</span>/s/<span class="number">1</span>mgDXvwW 密码: tgzp
</code></pre>
<p>请使用如下命令合并解压:</p>
<pre><code class="matlab"><span class="built_in">cat</span> CentOS-<span class="transposed_variable">hd.</span><span class="transposed_variable">tar.</span><span class="transposed_variable">gz.</span>* &gt; CentOS-<span class="transposed_variable">hd.</span><span class="transposed_variable">tar.</span>gz
tar -zxvf CentOS-<span class="transposed_variable">hd.</span><span class="transposed_variable">tar.</span>gz
</code></pre>
<h3>18.3 账号信息</h3>
<p>虚拟机账号信息如下:</p>
<pre><code class="ruby">linux账号密码<span class="symbol">:root/</span><span class="number">123456</span>
mysql root账号密码<span class="symbol">:root/test123</span>
mysql teamtalk账号密码<span class="symbol">:teamtalk/test</span><span class="variable">@123</span>
php 后台账号密码<span class="symbol">:admin/admin</span>
测试用户账号密码<span class="symbol">:test/test</span>
</code></pre>
<h3>18.4 运行</h3>
<p>启动虚拟机后，运行如下命令:</p>
<pre><code class="brainfuck"><span class="comment">ps</span> <span class="literal">-</span><span class="comment">ef|grep</span> <span class="comment">server</span>
</code></pre>
<p>如果看到如下:</p>
<pre><code class="haskell">[root@zhyh ~]# ps -ef|grep server
<span class="title">root</span>      <span class="number">1653</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">13</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">05</span> /usr/local/redis/bin/redis-server *:<span class="number">6379</span>
<span class="title">root</span>      <span class="number">1658</span>     <span class="number">1</span>  <span class="number">1</span> <span class="number">22</span>:<span class="number">13</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">21</span> ./db_proxy_server
<span class="title">root</span>      <span class="number">1717</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">13</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">02</span> ./http_msg_server
<span class="title">root</span>      <span class="number">1729</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">13</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">02</span> ./route_server
<span class="title">root</span>      <span class="number">1737</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">14</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">02</span> ./login_server
<span class="title">root</span>      <span class="number">1757</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">15</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">02</span> ./msg_server
<span class="title">root</span>      <span class="number">1788</span>  <span class="number">1774</span>  <span class="number">0</span> <span class="number">22</span>:<span class="number">34</span> pts/<span class="number">2</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep server 
</code></pre>
<p>如果没有发现:db_proxy_server, http_msg_server,route_server,login_server,msg_server的进程，请执行如下命令启动:</p>
<pre><code class="bash"><span class="built_in">cd</span> /usr/local/teamtalk
<span class="built_in">cd</span> xxxx
../daeml xxxx
</code></pre>
<p>xxx代表相应的程序名。通过查看:xxxx/log/default.log 查看程序错误。</p>
<h3>18.5 redis,php,nginx,mysql的启动，停止与重启</h3>
<pre><code class="smalltalk">/etc/init.d/redis {start<span class="localvars">|stop|</span>restart}
/etc/init.d/php-fpm {start<span class="localvars">|stop|</span>force-quit<span class="localvars">|restart|</span>reload}
/etc/init.d/nginx {start<span class="localvars">|stop|</span>force-quit<span class="localvars">|restart|</span>reload<span class="localvars">|status|</span>configtest}
/etc/init.d/mysql {start<span class="localvars">|stop|</span>restart<span class="localvars">|reload|</span>force-reload|status}  [ <span class="class">MySQL</span> server options ]
</code></pre>
<h3>7 打赏</h3>
<p>如果您觉得这篇文章对您有帮助，欢迎您给我打赏。通过微信扫一扫，即可。</p>
<p><img src="./TeamTalk_config_files/2139150299.png" alt="dashang"></p>
        </div>
        <p itemprop="keywords" class="tags">标签: none</p>
    </article>

    <div id="comments">
        	<h3>已有 132 条评论</h3>
    
    <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-38" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/298acb7d79bc7e4e097dfa1b818a8354" alt="Gene" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Gene</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-38"><time itemprop="commentTime" datetime="2015-04-04T10:51:08+00:00">April 4th, 2015 at 10:51 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>virtual box 网络是bridge 无线网卡吗？　192.168.1.150可以在真机上访问吗</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=38#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-38&#39;, 38);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-41" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-41"><time itemprop="commentTime" datetime="2015-04-08T11:18:04+00:00">April 8th, 2015 at 11:18 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我配置的是桥接网路。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=41#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-41&#39;, 41);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-228" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/422be9ba9ccbf768140e7bb4055be8dc" alt="3" width="32" height="32"></span>
        <cite class="fn" itemprop="name">3</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-228"><time itemprop="commentTime" datetime="2016-11-16T21:13:12+00:00">November 16th, 2016 at 09:13 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>sdfasdf</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=228#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-228&#39;, 228);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-39" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f133fc5f623669321390813096b74235" alt="milley" width="32" height="32"></span>
        <cite class="fn" itemprop="name">milley</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-39"><time itemprop="commentTime" datetime="2015-04-05T00:38:21+00:00">April 5th, 2015 at 12:38 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>已按以上步骤编译完环境，现在想要测试，能否在出一个php后台管理操作和windows客户端访问的教程，感谢！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=39#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-39&#39;, 39);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-209" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/5c2a3ccda593a46a98dee58f84880995" alt="大傻子" width="32" height="32"></span>
        <cite class="fn" itemprop="name">大傻子</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-209"><time itemprop="commentTime" datetime="2016-07-30T10:59:31+00:00">July 30th, 2016 at 10:59 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也像要</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=209#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-209&#39;, 209);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-42" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f1b1000df85cc0d0e62733dad963f44d" alt="流浪书生" width="32" height="32"></span>
        <cite class="fn" itemprop="name">流浪书生</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-42"><time itemprop="commentTime" datetime="2015-04-08T23:49:18+00:00">April 8th, 2015 at 11:49 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>请问，配置完db_proxy_server, http_msg_server,route_server,login_server,msg_server等，需要怎么样才能启动它们？<br>
没有看到启动它们的步骤。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=42#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-42&#39;, 42);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-43" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-43"><time itemprop="commentTime" datetime="2015-04-09T08:51:21+00:00">April 9th, 2015 at 08:51 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>18.4中运行已经介绍了如何启动。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=43#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-43&#39;, 43);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-44" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/05fd12f98b635208673af4444b16604c" alt="小辉" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小辉</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-44"><time itemprop="commentTime" datetime="2015-04-09T14:42:54+00:00">April 9th, 2015 at 02:42 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>Daemon loader<br>
- Launch specified program as daemon.<br>
- Loading msg_server as daemon, please wait ......<br>
<br>
<br>
启动只显示这个 没有启动成功 什么情况呢</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=44#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-44&#39;, 44);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-47" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-47"><time itemprop="commentTime" datetime="2015-04-13T21:26:32+00:00">April 13th, 2015 at 09:26 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>是否成功，请通过日志查看。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=47#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-47&#39;, 47);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-51" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/05fd12f98b635208673af4444b16604c" alt="小辉" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小辉</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-51"><time itemprop="commentTime" datetime="2015-04-14T08:21:54+00:00">April 14th, 2015 at 08:21 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>日志就显示这个，看进程也没那几个，不知道为什么启动不起来，编译成功后启动还要依赖什么？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=51#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-51&#39;, 51);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-52" class="comment-body comment-child comment-level-even comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/05fd12f98b635208673af4444b16604c" alt="小辉" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小辉</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-52"><time itemprop="commentTime" datetime="2015-04-14T08:23:09+00:00">April 14th, 2015 at 08:23 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>日志就显示这个，看进程也没那几个，不知道为什么启动不起来，编译成功后启动还要依赖什么？是自己编译得到，可能用你的虚拟机可以，不过我希望自己在vps上编译</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=52#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-52&#39;, 52);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-53" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/135743777edbd22e222c2322fb4684f1" alt="昨夜的星辰" width="32" height="32"></span>
        <cite class="fn" itemprop="name">昨夜的星辰</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-53"><time itemprop="commentTime" datetime="2015-04-14T20:14:44+00:00">April 14th, 2015 at 08:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>Hi，小辉，这个问题你解决了吗？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=53#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-53&#39;, 53);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-55" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/05fd12f98b635208673af4444b16604c" alt="小辉" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小辉</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-55"><time itemprop="commentTime" datetime="2015-04-18T13:49:46+00:00">April 18th, 2015 at 01:49 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>没有，不知道哪里出问题</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-95" class="comment-body comment-child comment-level-even comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/641f8f70f14ccd8fdf5a30d781398ca8" alt="kid" width="32" height="32"></span>
        <cite class="fn" itemprop="name">kid</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-95"><time itemprop="commentTime" datetime="2015-06-08T15:49:23+00:00">June 8th, 2015 at 03:49 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>同问，我的db_proxy_server 和msg_server启动不起来，按照下面的方法也没启动，请问你们现在解决了么</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-123" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c672ed7c5ed40b95563c45d932ceaf2b" alt="fujw" width="32" height="32"></span>
        <cite class="fn" itemprop="name">fujw</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-123"><time itemprop="commentTime" datetime="2015-07-29T15:28:04+00:00">July 29th, 2015 at 03:28 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>遇到同样的问题,启动只有 Loading ./db_proxy_server as daemon, please wait ......<br>
日志在哪？没有生成日志文件。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=123#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-123&#39;, 123);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-145" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/742f2b1a55cd5d606ea44b4fcb54646a" alt="tim" width="32" height="32"></span>
        <cite class="fn" itemprop="name">tim</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-145"><time itemprop="commentTime" datetime="2015-09-03T13:28:25+00:00">September 3rd, 2015 at 01:28 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>同问，一样也是这样的提示</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=145#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-145&#39;, 145);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-157" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/fbc8b6ecb71a139d1a15006c8b3d7e96" alt="星星" width="32" height="32"></span>
        <cite class="fn" itemprop="name">星星</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-157"><time itemprop="commentTime" datetime="2015-09-24T11:04:29+00:00">September 24th, 2015 at 11:04 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>日志在im_server路径下的对应子模块的log文件里</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-62" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/af2055da64adb0a9fe5b0d194935108a" alt="小凌子" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小凌子</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-62"><time itemprop="commentTime" datetime="2015-04-23T14:53:11+00:00">April 23rd, 2015 at 02:53 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也遇到这样的情况，6个进程，还有3个进程没有启动，或者没有看到。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=62#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-62&#39;, 62);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-68" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/135743777edbd22e222c2322fb4684f1" alt="昨夜的星辰" width="32" height="32"></span>
        <cite class="fn" itemprop="name">昨夜的星辰</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-68"><time itemprop="commentTime" datetime="2015-04-27T16:31:18+00:00">April 27th, 2015 at 04:31 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也是只启动了几个进程，db的就没起来，检查好多遍配置，怎么看也没问题</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=68#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-68&#39;, 68);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-167" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/d615d5793929e8c7d70eab5f00f7f5f1" alt="@昨夜的星辰" width="32" height="32"></span>
        <cite class="fn" itemprop="name">@昨夜的星辰</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-167"><time itemprop="commentTime" datetime="2015-10-27T18:29:17+00:00">October 27th, 2015 at 06:29 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>楼主有解决吗？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=167#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-167&#39;, 167);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-176" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-176"><time itemprop="commentTime" datetime="2015-12-08T15:30:40+00:00">December 8th, 2015 at 03:30 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>请参考【蓝狐】新版TeamTalk安装部署常见问题汇总里面的第二条。</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-45" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/554fe5732157d6b389f61d5fd928c1f2" alt="net_sy" width="32" height="32"></span>
        <cite class="fn" itemprop="name">net_sy</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-45"><time itemprop="commentTime" datetime="2015-04-09T15:52:33+00:00">April 9th, 2015 at 03:52 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你好，多谢提供这么好的文章，现在遇到了个问题还请帮忙，多谢啦！<br>
已经下载了你的 virtualBox 虚拟机环境，服务器是良好的跑起来了，但是现在想编译Android客户端，看到在你的虚拟机里面有Android客户端源码，但是这块编译的时候有什么注意事项吗？<br>
现在编译完了的包总提示连接不上服务器，好像是库什么没弄正确？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=45#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-45&#39;, 45);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-48" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-48"><time itemprop="commentTime" datetime="2015-04-13T21:34:28+00:00">April 13th, 2015 at 09:34 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>虚拟机里面的Android客户端是从github上clone下来的，我们使用的是Android  studio编译的，自己的服务器，需要修改login_server地址。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=48#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-48&#39;, 48);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-54" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/554fe5732157d6b389f61d5fd928c1f2" alt="net_sy" width="32" height="32"></span>
        <cite class="fn" itemprop="name">net_sy</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-54"><time itemprop="commentTime" datetime="2015-04-15T13:10:31+00:00">April 15th, 2015 at 01:10 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>多谢安卓客户端的问题已解决！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=54#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-54&#39;, 54);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-49" class="comment-body comment-child comment-level-odd comment-even comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-49"><time itemprop="commentTime" datetime="2015-04-13T21:34:29+00:00">April 13th, 2015 at 09:34 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>虚拟机里面的Android客户端是从github上clone下来的，我们使用的是Android  studio编译的，自己的服务器，需要修改login_server地址。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=49#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-49&#39;, 49);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-46" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f3a6d66a8a4034759d21cd2cbd23209b" alt="goodforever" width="32" height="32"></span>
        <cite class="fn" itemprop="name">goodforever</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-46"><time itemprop="commentTime" datetime="2015-04-11T21:31:41+00:00">April 11th, 2015 at 09:31 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>有人编译成功并能运行TTAndroidClient吗？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=46#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-46&#39;, 46);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-50" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-50"><time itemprop="commentTime" datetime="2015-04-13T22:14:45+00:00">April 13th, 2015 at 10:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我刚刚还帮助一位网友编译了。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=50#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-50&#39;, 50);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-57" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/cb53de5f686f56c9f72167ac55a1281b" alt="sudan" width="32" height="32"></span>
        <cite class="fn" itemprop="name">sudan</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-57"><time itemprop="commentTime" datetime="2015-04-21T17:27:36+00:00">April 21st, 2015 at 05:27 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我都按照上面的配置了，ngnix启动了，电脑本机但是就是访问不到web,虚拟机跟本机是能互相ping通的。和纳闷。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=57#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-57&#39;, 57);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-66" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/298acb7d79bc7e4e097dfa1b818a8354" alt="Gene" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Gene</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-66"><time itemprop="commentTime" datetime="2015-04-25T22:14:25+00:00">April 25th, 2015 at 10:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>解决了吗， 我是在macbook os x上装的virtualbox, 也是主机和虚拟机可以互相ping通， 但主机访问不了虚拟机上的web, 也访问不了各种端口， iptables也关了，不知道为什么？？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=66#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-66&#39;, 66);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-177" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-177"><time itemprop="commentTime" datetime="2015-12-08T15:33:12+00:00">December 8th, 2015 at 03:33 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>1.虚拟机的联网模式要改成桥接，然后确保本机ip和虚拟机ip在同一个网段。<br>
2.关闭虚拟机的防火墙。<br>
<br>
另外确认一下虚拟机内部能不能访问。再根据log分析。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=177#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-177&#39;, 177);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-58" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7af8bdda02b6136adfefd062391e74fb" alt="JakcyChen" width="32" height="32"></span>
        <cite class="fn" itemprop="name">JakcyChen</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-58"><time itemprop="commentTime" datetime="2015-04-23T10:08:28+00:00">April 23rd, 2015 at 10:08 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我参照你这个文档部署完成之后，用ps -ef|grep server去查看发现没有文中提到的服务，然后按照你的方式去启动的时候，也无法启动；<br>
我想问下，这些相关服务是自己启动的吗？日志目录在那个目录下？谢谢。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=58#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-58&#39;, 58);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-59" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/cb53de5f686f56c9f72167ac55a1281b" alt="sudan" width="32" height="32"></span>
        <cite class="fn" itemprop="name">sudan</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-59"><time itemprop="commentTime" datetime="2015-04-23T10:51:02+00:00">April 23rd, 2015 at 10:51 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>已经可以了，在window下有个虚拟机的网络设备，上面的ip地址跟虚拟机的ip重复了。一直访问不到。把windows下的虚拟机的网络设备ip改了之后就可以了，这个问题很难找，我头都搞 大了。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=59#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-59&#39;, 59);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-60" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7af8bdda02b6136adfefd062391e74fb" alt="JakcyChen" width="32" height="32"></span>
        <cite class="fn" itemprop="name">JakcyChen</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-60"><time itemprop="commentTime" datetime="2015-04-23T11:40:14+00:00">April 23rd, 2015 at 11:40 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你能不能帮我解决下服务启动的问题，我使用文中的方法启动服务的时候一直提示 please wait......<br>
查看服务也没有启动起来，如果查看日志的话，我想问问看那个目录下的日志？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=60#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-60&#39;, 60);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-151" class="comment-body comment-child comment-level-even comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e286a5a6a21fee01a506227fa4514e4f" alt="icecutie" width="32" height="32"></span>
        <cite class="fn" itemprop="name">icecutie</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-151"><time itemprop="commentTime" datetime="2015-09-09T18:08:12+00:00">September 9th, 2015 at 06:08 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你指的是网络配置里面的ipv4地址吗?我的没有重复但是也ping不通啊 但是这两个ip不在网关 求助</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=151#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-151&#39;, 151);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-178" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-178"><time itemprop="commentTime" datetime="2015-12-08T15:34:28+00:00">December 8th, 2015 at 03:34 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>1.虚拟机的联网模式要改成桥接，然后确保本机ip和虚拟机ip在同一个网段。<br>
2.关闭虚拟机的防火墙。<br>
<br>
另外确认一下虚拟机内部能不能访问。再根据log分析。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=178#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-178&#39;, 178);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-179" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-179"><time itemprop="commentTime" datetime="2015-12-08T15:35:42+00:00">December 8th, 2015 at 03:35 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>把虚拟机的联网模式改成桥接。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=179#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-179&#39;, 179);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-61" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7af8bdda02b6136adfefd062391e74fb" alt="JakcyChen" width="32" height="32"></span>
        <cite class="fn" itemprop="name">JakcyChen</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-61"><time itemprop="commentTime" datetime="2015-04-23T12:58:21+00:00">April 23rd, 2015 at 12:58 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>[root@jackymysql msg_server]# ./msg_server <br>
./msg_server: error while loading shared libraries: libslog.so: cannot open shared object file: No such file or directory<br>
[root@jackymysql msg_server]# find / -name libslog.so<br>
/root/TeamTalk/server/src/slog/libslog.so<br>
/root/TeamTalk/server/src/base/slog/lib/libslog.so<br>
<br>
这个问题怎么解决？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=61#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-61&#39;, 61);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-81" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/4200d066c1e4cd1b6d68d90b6f93be97" alt="logy-bai" width="32" height="32"></span>
        <cite class="fn" itemprop="name">logy-bai</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-81"><time itemprop="commentTime" datetime="2015-05-16T00:43:32+00:00">May 16th, 2015 at 12:43 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也遇到了这个问题。求问是怎么解决的？？？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=81#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-81&#39;, 81);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-201" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/0bf8889fe6d653b3c3fed8959ffeaaa3" alt="Leopard" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Leopard</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-201"><time itemprop="commentTime" datetime="2016-04-24T20:46:54+00:00">April 24th, 2016 at 08:46 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>这个动态库的问题，只需要把这个.so文件放在/lib64中，然后执行ldconfig就可以了</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=201#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-201&#39;, 201);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-63" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/2fb3905bc2f11bdcfbbb84ae2d115ce6" alt="lin315" width="32" height="32"></span>
        <cite class="fn" itemprop="name">lin315</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-63"><time itemprop="commentTime" datetime="2015-04-24T00:17:08+00:00">April 24th, 2015 at 12:17 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>能讲一下一键部署教程吗？我用新版的一键部署无法完成。好像tt.zip和m-server-*.tar.gz这两压缩文件没有在目录中，请指点一下。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=63#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-63&#39;, 63);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-64" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/298acb7d79bc7e4e097dfa1b818a8354" alt="Gene" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Gene</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-64"><time itemprop="commentTime" datetime="2015-04-24T21:44:35+00:00">April 24th, 2015 at 09:44 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>5.6.22已经下不了了wget http://mirrors.sohu.com/mysql/MySQL-5.6/mysql-5.6.22.tar.gz<br>
<br>
下5.6.24版本的吧 wget http://mirrors.sohu.com/mysql/MySQL-5.6/mysql-5.6.24.tar.gz</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=64#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-64&#39;, 64);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-72" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-72"><time itemprop="commentTime" datetime="2015-05-05T09:23:56+00:00">May 5th, 2015 at 09:23 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>谢谢，已经修改为5.6.23版本了。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=72#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-72&#39;, 72);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-124" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9b814d347234be5e5d7684c01ac69ea5" alt="扬之" width="32" height="32"></span>
        <cite class="fn" itemprop="name">扬之</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-124"><time itemprop="commentTime" datetime="2015-07-30T12:40:43+00:00">July 30th, 2015 at 12:40 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>23也下不了了</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=124#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-124&#39;, 124);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-188" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-188"><time itemprop="commentTime" datetime="2016-01-05T14:04:53+00:00">January 5th, 2016 at 02:04 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>改成mysql-5.6.28</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=188#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-188&#39;, 188);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-65" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/298acb7d79bc7e4e097dfa1b818a8354" alt="Gene" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Gene</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-65"><time itemprop="commentTime" datetime="2015-04-24T23:32:28+00:00">April 24th, 2015 at 11:32 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>5.2.1 libiconv在CentoS 7上make会出下面的错误<br>
libiconv stdio.h:1010:1: error: ‘gets’ undeclared here<br>
<br>
解决方法：<br>
cd srclib/<br>
sed -i -e '/gets is a security/d' ./stdio.in.h</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=65#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-65&#39;, 65);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-73" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-73"><time itemprop="commentTime" datetime="2015-05-05T09:24:18+00:00">May 5th, 2015 at 09:24 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>THX</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=73#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-73&#39;, 73);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-83" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/4200d066c1e4cd1b6d68d90b6f93be97" alt="logy-bai" width="32" height="32"></span>
        <cite class="fn" itemprop="name">logy-bai</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-83"><time itemprop="commentTime" datetime="2015-05-16T16:27:59+00:00">May 16th, 2015 at 04:27 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>dui</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=83#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-83&#39;, 83);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-69" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/cce497ce8c06615020f74c918c9514de" alt="Smart" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Smart</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-69"><time itemprop="commentTime" datetime="2015-04-29T09:01:28+00:00">April 29th, 2015 at 09:01 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>按照这个方法，部署完，但是网页上登陆不进去。admin admin登陆失败</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=69#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-69&#39;, 69);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-70" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/cce497ce8c06615020f74c918c9514de" alt="Smart" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Smart</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-70"><time itemprop="commentTime" datetime="2015-04-29T10:37:23+00:00">April 29th, 2015 at 10:37 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>搞定了！db_proxy_server没起来的原因是/etc/my.cnf 中监听的是127.0.0.1</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=70#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-70&#39;, 70);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-223" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c11673fe10c59ac1b8c3bfb2fdcc5649" alt="xi" width="32" height="32"></span>
        <cite class="fn" itemprop="name">xi</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-223"><time itemprop="commentTime" datetime="2016-10-25T17:27:04+00:00">October 25th, 2016 at 05:27 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>请问部署完，但是网页上登陆不进去, 是因为db_proxy_server没起来的原因是/etc/my.cnf 中监听的是127.0.0.1 ?<br>
我现在部署完，但是网页上登陆不进去,请问你怎么解决的?</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=223#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-223&#39;, 223);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-74" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/ff78c767612c22836e00c1a5cba1fc29" alt="bandly" width="32" height="32"></span>
        <cite class="fn" itemprop="name">bandly</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-74"><time itemprop="commentTime" datetime="2015-05-05T09:51:15+00:00">May 5th, 2015 at 09:51 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>执行 sh build.sh version 1.0.0 的时候 报<br>
/usr/bin/ld: cannot find -llog4cxx<br>
collect2: 错误：ld 返回 1<br>
make[2]: *** [libslog.so] 错误 1<br>
make[1]: *** [CMakeFiles/slog.dir/all] 错误 2<br>
make: *** [all] 错误 2<br>
make slog failed<br>
这个错误 我看了一下 是src/slog 中执行make 时报的<br>
请问这个怎么解决</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=74#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-74&#39;, 74);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-76" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/5e6ce1a3da131cf8daf20b9d94015f3d" alt="MarkWu" width="32" height="32"></span>
        <cite class="fn" itemprop="name">MarkWu</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-76"><time itemprop="commentTime" datetime="2015-05-06T23:00:41+00:00">May 6th, 2015 at 11:00 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>楼主统一回复下啊，我也是，在make slog时出现这个问题</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=76#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-76&#39;, 76);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-77" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b96517d6c2aca445d0f528565c1ae61f" alt="chaoren_fly" width="32" height="32"></span>
        <cite class="fn" itemprop="name">chaoren_fly</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-77"><time itemprop="commentTime" datetime="2015-05-12T10:38:32+00:00">May 12th, 2015 at 10:38 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也出现这个问题，已经解决。<br>
文件TeamTalk/server/src/slog/CMakeList 中<br>
#LINK_DIRECTORIES(./ ./lib)<br>
去掉“#”注释，修改为LINK_DIRECTORIES(./ ./lib)<br>
即可编译通过</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=77#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-77&#39;, 77);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-78" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b96517d6c2aca445d0f528565c1ae61f" alt="chaoren_fly" width="32" height="32"></span>
        <cite class="fn" itemprop="name">chaoren_fly</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-78"><time itemprop="commentTime" datetime="2015-05-12T10:39:45+00:00">May 12th, 2015 at 10:39 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>准确点应该是TeamTalk/server/src/slog/CMakeLists.txt</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=78#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-78&#39;, 78);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-86" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/5e6ce1a3da131cf8daf20b9d94015f3d" alt="MarkWu" width="32" height="32"></span>
        <cite class="fn" itemprop="name">MarkWu</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-86"><time itemprop="commentTime" datetime="2015-05-18T13:19:03+00:00">May 18th, 2015 at 01:19 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>THX</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-79" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/ec21ca9ab5f2b49960cdd6a1f1fd210c" alt="jmmm" width="32" height="32"></span>
        <cite class="fn" itemprop="name">jmmm</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-79"><time itemprop="commentTime" datetime="2015-05-12T18:08:31+00:00">May 12th, 2015 at 06:08 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>Linking CXX executable http_msg_server<br>
/usr/bin/ld: skipping incompatible ../base/security/lib/linux/libsecurity.a when searching for -lsecurity<br>
/usr/bin/ld: cannot find -lsecurity<br>
collect2: error: ld returned 1 exit status<br>
make[2]: *** [http_msg_server] Error 1<br>
make[1]: *** [CMakeFiles/http_msg_server.dir/all] Error 2<br>
make: *** [all] Error 2<br>
make http_msg_server failed</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=79#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-79&#39;, 79);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-89" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/97b2c3da4b2673d810ebaaea9f55e963" alt="你好" width="32" height="32"></span>
        <cite class="fn" itemprop="name">你好</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-89"><time itemprop="commentTime" datetime="2015-05-22T11:11:04+00:00">May 22nd, 2015 at 11:11 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也遇到了这个问题，请问你解决了嘛</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=89#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-89&#39;, 89);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-82" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/4200d066c1e4cd1b6d68d90b6f93be97" alt="logy-bai" width="32" height="32"></span>
        <cite class="fn" itemprop="name">logy-bai</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-82"><time itemprop="commentTime" datetime="2015-05-16T01:05:33+00:00">May 16th, 2015 at 01:05 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>db_proxy_server和msg_server无法启动</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=82#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-82&#39;, 82);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-84" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c168e85283a72764539ec21e61e3dc8e" alt="LynnJiang" width="32" height="32"></span>
        <cite class="fn" itemprop="name">LynnJiang</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-84"><time itemprop="commentTime" datetime="2015-05-17T14:49:56+00:00">May 17th, 2015 at 02:49 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我也是db_proxy_server和msg_server无法启动，不知道是什么原因？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=84#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-84&#39;, 84);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-85" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c168e85283a72764539ec21e61e3dc8e" alt="LynnJiang" width="32" height="32"></span>
        <cite class="fn" itemprop="name">LynnJiang</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-85"><time itemprop="commentTime" datetime="2015-05-17T14:53:59+00:00">May 17th, 2015 at 02:53 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我的web可以访问，用admin可以登录。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=85#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-85&#39;, 85);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-87" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/705211b9a2928d80f660f14d93e833b7" alt="donkie" width="32" height="32"></span>
        <cite class="fn" itemprop="name">donkie</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-87"><time itemprop="commentTime" datetime="2015-05-21T09:52:17+00:00">May 21st, 2015 at 09:52 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>已部署成功。遇到两个问题。<br>
<br>
1、server无法启动，实际报错：error while loading shared libraries: libslog.so，解决：编译成功以后可以放在任何目录，但是里面的lib目录需要加入到LD_LIBRARY_PATH环境变量。<br>
<br>
2、db_proxy_server无法启动，原因是/etc/my.cnf 中监听地址127.0.0.1要改成实际IP<br>
<br>
另外：图片无法发送是什么原因？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=87#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-87&#39;, 87);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-187" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-187"><time itemprop="commentTime" datetime="2016-01-05T14:02:31+00:00">January 5th, 2016 at 02:02 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你的msfs没启动吧！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=187#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-187&#39;, 187);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-196" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e2f888a6f692c383cbdcabb6da1503c1" alt="donal" width="32" height="32"></span>
        <cite class="fn" itemprop="name">donal</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-196"><time itemprop="commentTime" datetime="2016-03-22T18:16:35+00:00">March 22nd, 2016 at 06:16 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>msfs怎么启动</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=196#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-196&#39;, 196);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-88" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/1f4c31364c7622047483605732bd21aa" alt="ding" width="32" height="32"></span>
        <cite class="fn" itemprop="name">ding</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-88"><time itemprop="commentTime" datetime="2015-05-21T11:06:12+00:00">May 21st, 2015 at 11:06 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>求一个编译好的im-server-1.tar.gz</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=88#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-88&#39;, 88);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-90" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c9f34ee180622935a4ce398081bece8f" alt="Superzoc" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Superzoc</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-90"><time itemprop="commentTime" datetime="2015-05-23T12:32:36+00:00">May 23rd, 2015 at 12:32 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>部署没有问题，但是使用的时候遇到两个问题<br>
1：图片无法发送？貌似之前也有童鞋问过，是否有统一的解决方案？<br>
2：语音发送成功，但是无法保存，也就是说即时发送是成功的，查后台应该是MSFS没启动，但是起不起来。这个有莫有什么好的办法？<br>
不胜感谢！！！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=90#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-90&#39;, 90);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-91" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c9f34ee180622935a4ce398081bece8f" alt="Superzoc" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Superzoc</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-91"><time itemprop="commentTime" datetime="2015-05-23T12:39:53+00:00">May 23rd, 2015 at 12:39 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>已经搞定<br>
两个问题都在于msfs<br>
1-把msfs下面的msfs.conf.example拷贝一份变成msgs.conf<br>
2-打开该文件，配置文件的存放地址BaseDir=/superzoc/files（这是我的）<br>
3-启动msfs</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=91#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-91&#39;, 91);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-99" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/3ffe694eafc6df2b6b70dc40d7759e9b" alt="BaseDir=怎么设置？" width="32" height="32"></span>
        <cite class="fn" itemprop="name">BaseDir=怎么设置？</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-99"><time itemprop="commentTime" datetime="2015-06-18T18:09:25+00:00">June 18th, 2015 at 06:09 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>BaseDir= 后面是什么路径啊？能说下吗?</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=99#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-99&#39;, 99);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-189" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-189"><time itemprop="commentTime" datetime="2016-01-05T14:14:34+00:00">January 5th, 2016 at 02:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>./tmp</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=189#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-189&#39;, 189);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-163" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b47dafe54fb2f5d8070f952f7927443a" alt="husz" width="32" height="32"></span>
        <cite class="fn" itemprop="name">husz</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-163"><time itemprop="commentTime" datetime="2015-10-19T10:06:39+00:00">October 19th, 2015 at 10:06 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你好，我部署后，表情发送不了，是怎么回事，你出现这种情况没。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=163#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-163&#39;, 163);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-171" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/69730b97134d83e49f1dea0cbb9f0a68" alt="低调" width="32" height="32"></span>
        <cite class="fn" itemprop="name">低调</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-171"><time itemprop="commentTime" datetime="2015-11-20T17:32:12+00:00">November 20th, 2015 at 05:32 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>表情不能发送的问题解决了吗</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=171#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-171&#39;, 171);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-190" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7657b8294e96193e562951636af11bed" alt="何小木" width="32" height="32"></span>
        <cite class="fn" itemprop="name">何小木</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-190"><time itemprop="commentTime" datetime="2016-01-05T14:15:49+00:00">January 5th, 2016 at 02:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>PC端吗？　以管理员身份运行　ＶＳ</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=190#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-190&#39;, 190);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-92" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/121ceca00da61a161a45823a732ddb9c" alt="有您足够" width="32" height="32"></span>
        <cite class="fn" itemprop="name">有您足够</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-92"><time itemprop="commentTime" datetime="2015-05-23T15:53:31+00:00">May 23rd, 2015 at 03:53 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>完全部署成功，但androd老自动卡死掉。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=92#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-92&#39;, 92);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-93" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/359cc9ae52e21d5312e7e35d56c779fc" alt="Superzoc" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Superzoc</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-93"><time itemprop="commentTime" datetime="2015-06-02T20:39:37+00:00">June 2nd, 2015 at 08:39 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>很奇怪，我部署成功，第一次能够登录，第二次就登录不成功了，显示服务器端异常，经调试服务器端返回的code是5，不知道怎么回事</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=93#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-93&#39;, 93);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-232" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9268cc687abc045f160b935d0bf2b4c4" alt="FFFFFFFFFFFFFFF" width="32" height="32"></span>
        <cite class="fn" itemprop="name">FFFFFFFFFFFFFFF</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-232"><time itemprop="commentTime" datetime="2016-12-20T18:11:41+00:00">December 20th, 2016 at 06:11 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>db_proxy_server 自动停止了 要重新启动 不知道为什么这个老是莫名其妙自动停止!</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=232#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-232&#39;, 232);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-94" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/2e482c20b95ae7124a6f36816dc93e10" alt="Daniel" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Daniel</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-94"><time itemprop="commentTime" datetime="2015-06-06T11:18:51+00:00">June 6th, 2015 at 11:18 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我的部署成功了，可是为什么后台php登录后无法添加。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=94#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-94&#39;, 94);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-96" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e0990c57ae3add9cf8e115500c659076" alt="lday" width="32" height="32"></span>
        <cite class="fn" itemprop="name">lday</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-96"><time itemprop="commentTime" datetime="2015-06-10T16:16:24+00:00">June 10th, 2015 at 04:16 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>谢谢蓝狐的消息说明，按照步骤一步一步走，从CentOS 6.5裸机开始，花了差不多8个小时，将系统整个部署好，并通过windows/android客户端实现聊天，通讯。<br>
<br>
部署过程中有几点，和蓝狐的说明稍有差别，补充如下，供参考：<br>
<br>
1. ln -s /usr/local/mysql/lib/mysql /usr/lib/mysql 应该是link:<br>
ln -s /usr/local/mysql/lib /usr/lib/mysql<br>
<br>
2.修改database.php时，<br>
应该是：$db['default']['username'] = 'teamtalk';<br>
<br>
3. 启动server时，需要将各server的配置文件.conf拷贝到run下对应的server目录<br>
同时，将log4cxx.properties也需要拷贝到对应的目录，可通过下的脚本：<br>
./restart.sh xxx_server  分别启动7个server<br>
<br>
4. 如果重启过centOS，再次启动server时，需要确认redis是否已经启动，前面的脚本没有设置redis自启动，需要手工启动<br>
<br>
5. 后台管理新建用户时，需要先建组织，再建用户。<br>
<br>
后续会继续学习，熟悉TeamTalk，感谢蘑菇街IM团队的贡献。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=96#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-96&#39;, 96);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-105" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-105"><time itemprop="commentTime" datetime="2015-07-13T16:00:35+00:00">July 13th, 2015 at 04:00 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>哈哈……感谢lday提出的宝贵意见。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=105#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-105&#39;, 105);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="pingback-97" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"></span>
        <cite class="fn" itemprop="name"><a href="http://ixiaomo.net/2015/06/15/vmware10%e5%af%bc%e5%85%a5centos6-6%e7%9a%84vmdk/" rel="external nofollow">突围» VMWARE10导入centos6.6的vmdk</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#pingback-97"><time itemprop="commentTime" datetime="2015-06-15T10:20:16+00:00">June 15th, 2015 at 10:20 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>[...]teamtalk的部署，看到一篇文章，直接拿来装起。[...]</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=97#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;pingback-97&#39;, 97);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-98" class="comment-body comment-parent comment-even comment-by-user">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/3ffe694eafc6df2b6b70dc40d7759e9b" alt="xingzhexing" width="32" height="32"></span>
        <cite class="fn" itemprop="name">xingzhexing</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-98"><time itemprop="commentTime" datetime="2015-06-15T11:43:06+00:00">June 15th, 2015 at 11:43 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>链接: http://pan.baidu.com/s/1mgDXvwW 密码: tgzp<br>
这个百度云链接下载的文件怎么不能用，文件缺失？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=98#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-98&#39;, 98);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-104" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/ad4e58c23dbf6f960a0e48358f4942c0" alt="purple grape" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://purplegrape.blog.51cto.com/1330104/1672859" rel="external nofollow">purple grape</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-104"><time itemprop="commentTime" datetime="2015-07-12T15:58:08+00:00">July 12th, 2015 at 03:58 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我把teamtalk 打包成了rpm包<br>
<br>
http://purplegrape.blog.51cto.com/1330104/1672859</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=104#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-104&#39;, 104);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-106" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/1b64f9118a058f112f45e048bf2310ba" alt="WU" width="32" height="32"></span>
        <cite class="fn" itemprop="name">WU</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-106"><time itemprop="commentTime" datetime="2015-07-16T14:57:51+00:00">July 16th, 2015 at 02:57 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>ngnix启动了，电脑本机但是就是访问不到web,虚拟机跟本机是能互相ping通</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=106#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-106&#39;, 106);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-107" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/eaa482b6a572d66c68acaaae9d8176df" alt="zev" width="32" height="32"></span>
        <cite class="fn" itemprop="name">zev</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-107"><time itemprop="commentTime" datetime="2015-07-17T18:00:25+00:00">July 17th, 2015 at 06:00 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你安装的是centos吧，需要关闭防火墙<br>
关闭firewall：<br>
systemctl stop firewalld.service  #停止firewall<br>
systemctl disable firewalld.service  #禁止firewall开机启动</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=107#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-107&#39;, 107);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-125" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9b814d347234be5e5d7684c01ac69ea5" alt="扬之" width="32" height="32"></span>
        <cite class="fn" itemprop="name">扬之</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-125"><time itemprop="commentTime" datetime="2015-07-31T12:15:29+00:00">July 31st, 2015 at 12:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>跪谢！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=125#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-125&#39;, 125);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-110" class="comment-body comment-child comment-level-odd comment-even comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-110"><time itemprop="commentTime" datetime="2015-07-20T14:24:41+00:00">July 20th, 2015 at 02:24 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>看起来是防火墙或者selinux的问题，先尝试关闭防火墙或者selinux试试，如果可以访问了，就是这个问题，后面开放相应的端口就可以了。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=110#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-110&#39;, 110);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-111" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/7693fec3bfa9b365b4416d6c606ac88b" alt="jhd" width="32" height="32"></span>
        <cite class="fn" itemprop="name">jhd</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-111"><time itemprop="commentTime" datetime="2015-07-20T19:14:36+00:00">July 20th, 2015 at 07:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>在执行sh build.sh version 1.0.0命令的时候报这个错误，各位大神，有遇到过的吗，怎么解决<br>
In file included from //TeamTalk/server/src/base/imconn.h:13:0,<br>
from //TeamTalk/server/src/base/imconn.cpp:8:<br>
//TeamTalk/server/src/base/ImPduBase.h:12:45: 致命错误：pb/google/protobuf/message_lite.h：没有那个文件或目录<br>
#include "pb/google/protobuf/message_lite.h"<br>
^<br>
编译中断。<br>
make[2]: *** [CMakeFiles/base.dir/imconn.cpp.o] 错误 1<br>
make[1]: *** [CMakeFiles/base.dir/all] 错误 2<br>
make: *** [all] 错误 2<br>
make base failed</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=111#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-111&#39;, 111);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-114" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/6e7d9e4cecaf8e22b9efc54977912353" alt="小卒" width="32" height="32"></span>
        <cite class="fn" itemprop="name">小卒</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-114"><time itemprop="commentTime" datetime="2015-07-22T11:55:38+00:00">July 22nd, 2015 at 11:55 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>PB安装搞定了？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=114#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-114&#39;, 114);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-112" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/00ca7e4a24767d194495b9ecfb01dc1e" alt="YY" width="32" height="32"></span>
        <cite class="fn" itemprop="name">YY</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-112"><time itemprop="commentTime" datetime="2015-07-21T12:09:41+00:00">July 21st, 2015 at 12:09 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>Cannot specify link libraries for target "db_proxy_server" which is not<br>
built by this project.</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=112#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-112&#39;, 112);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-113" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/00ca7e4a24767d194495b9ecfb01dc1e" alt="zyy" width="32" height="32"></span>
        <cite class="fn" itemprop="name">zyy</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-113"><time itemprop="commentTime" datetime="2015-07-21T17:04:35+00:00">July 21st, 2015 at 05:04 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>im-server-1.0.0.tar.gz    文件生成了     Android  客户端怎么改</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=113#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-113&#39;, 113);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-126" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9b814d347234be5e5d7684c01ac69ea5" alt="扬之" width="32" height="32"></span>
        <cite class="fn" itemprop="name">扬之</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-126"><time itemprop="commentTime" datetime="2015-07-31T17:15:05+00:00">July 31st, 2015 at 05:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>首先，非常感谢蓝狐的这篇博客，整个操作按照此过程基本不会出什么问题。<br>
<br>
其次，感谢此文下面的各种评论，没有你们就没有我的编译部署成功。<br>
<br>
再次，总结下我的整个操作过程。<br>
<br>
（1）更换yum源，因为安装的是CentOS 7.1，所以命令如下：<br>
wget http://mirrors.163.com/.help/CentOS7-Base-163.repo<br>
<br>
（2）wget gcc 时，频繁被终止，最终连接失败导致下载失败。<br>
解决方案：wget https://ftp.gnu.org/gnu/gcc/gcc-4.9.2/gcc-4.9.2.tar.gz<br>
速度也还可以。<br>
<br>
（3）在run中执行./restart.sh xxxx_server没有成功。<br>
解决方案：<br>
a、将im-server-1.0.0.tar.gz解压后的文件夹移动到auto_setup/im_server/；<br>
b、按照蓝狐博客中的修改配置文件方式修改/auto_setup/im_server/conf/下的各个server的配置文件；<br>
c、 执行./setup.sh check；<br>
d、执行./setup.sh install；<br>
e、执行 ps -ef | grep server；<br>
f、 如果有服务没起来，进入 auto_setup/im_server/im-server-1.0.0，执行./restart.sh xxxx_server，同时进入其xxxx_server相关目录下的log文件夹下查看对应log，基本都能找到问题在哪里了。<br>
g、最后，若启动server还有问题，请看上述各种评论，很有用很有用很有用——重要的事情说三遍。<br>
<br>
（4）启动msfs时遇到问题，各种方案都没有启动起来。<br>
解决方案：修改了 auto_setup/im_server/im-server-1.0.0/restart.sh，把msfs的启动也加到该shell文件中，成功启动。<br>
<br>
最后，提议个，TeamTalk的github中，能不能明确指定要编译部署TeamTalk先来看该博文？群公告里面是不是也做个类似说明？<br>
<br>
再次致谢！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=126#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-126&#39;, 126);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-130" class="comment-body comment-child comment-level-odd comment-odd comment-by-author">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/b21f48f66b7a711d59a70dbdfa3870bd" alt="zhyh" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.bluefoxah.org/" rel="external nofollow">zhyh</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-130"><time itemprop="commentTime" datetime="2015-08-03T19:46:03+00:00">August 3rd, 2015 at 07:46 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>非常感谢您的反馈跟总结。针对您提得意见，目前无法做到，我已经离开蘑菇街了，不再具有github的管理权限。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=130#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-130&#39;, 130);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-165" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/135bd858c9b223cd4c9a44bdc054cf3d" alt="Joel" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Joel</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-165"><time itemprop="commentTime" datetime="2015-10-21T18:51:09+00:00">October 21st, 2015 at 06:51 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>我再添点： <br>
我的环境， centos 6.5, 没有完全照着做， 上面的问题我都出现了， 因为是快速测试， 就列下我的问题和方法.<br>
restar.sh 很难用， 简单粗暴用下列替代<br>
在server的目录：<br>
# cat start.sh <br>
#!/bin/bash<br>
<br>
for d in *_server; do  cd  $d ; ../daeml $d ; cd ..; done<br>
# cat stop.sh <br>
#!/bin/bash<br>
<br>
ps aux | grep _server | grep -v "grep"| while read a1 p a3 ; do <br>
kill -9 $p ; echo "stop ${a3##* }" ; <br>
done<br>
<br>
# cat status.sh <br>
#!/bin/bash<br>
<br>
ps aux | grep _server | grep -v "grep" <br>
<br>
<br>
前台运行db_proxy_server, 提示 照不到 libmysqlclient_r.so.16, 本机编译本机运行应该不存在此类问题， 应该有其他老包。 果断删除， 同时在源码中Teamtalk/server/src/db_proxy_server下，make clean ; make. 直接拷贝替换。<br>
<br>
前台运行 msg_server, 提示<br>
-------------------<br>
log4cxx: No appender could be found for logger (IM).<br>
log4cxx: Please initialize the log4cxx system properly<br>
-------------------<br>
把源码中的log4cxx.properties 拷贝到相对应的目录下，假设现在在 TeamTalk/server/src下<br>
<br>
for d in *_server; do cp  $d/log4cxx.properties  /home/to/your/server/im-server-1.0.0/$d/ ; done</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=165#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-165&#39;, 165);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-143" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/bbe1018c36bff00919db8a341148a3b7" alt="none" width="32" height="32"></span>
        <cite class="fn" itemprop="name">none</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-143"><time itemprop="commentTime" datetime="2015-08-26T12:25:24+00:00">August 26th, 2015 at 12:25 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>ncurses-devel 写重复了</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=143#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-143&#39;, 143);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-144" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/095cd16420d21028f6728b7735af21b2" alt="null" width="32" height="32"></span>
        <cite class="fn" itemprop="name">null</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-144"><time itemprop="commentTime" datetime="2015-08-31T13:07:02+00:00">August 31st, 2015 at 01:07 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>[root@localhost login_server]# ./login_server <br>
log4cxx: No appender could be found for logger (IM).<br>
log4cxx: Please initialize the log4cxx system properly.<br>
<br>
这是什么情况啊？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=144#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-144&#39;, 144);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-164" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/135bd858c9b223cd4c9a44bdc054cf3d" alt="Joel" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Joel</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-164"><time itemprop="commentTime" datetime="2015-10-21T17:30:28+00:00">October 21st, 2015 at 05:30 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>这个问题是什么原因？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=164#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-164&#39;, 164);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-146" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/65ba209c236b7f4e3cb40cae22fc7402" alt="forest" width="32" height="32"></span>
        <cite class="fn" itemprop="name">forest</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-146"><time itemprop="commentTime" datetime="2015-09-04T12:18:21+00:00">September 4th, 2015 at 12:18 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>db server 无法启动  mysql_real_connect failed: Can't connect to MySQL server on '10.70.'</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=146#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-146&#39;, 146);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-147" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/65ba209c236b7f4e3cb40cae22fc7402" alt="forest" width="32" height="32"></span>
        <cite class="fn" itemprop="name">forest</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-147"><time itemprop="commentTime" datetime="2015-09-04T17:14:32+00:00">September 4th, 2015 at 05:14 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>2015-09-04 17:10:04,128 [ERROR SOCKET] - ||,init ssl: use certificate file failed.<br>
2015-09-04 17:10:04,128 [ERROR PUSH] - ||,gateway client init ssl failed.</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=147#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-147&#39;, 147);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-148" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/65ba209c236b7f4e3cb40cae22fc7402" alt="forest" width="32" height="32"></span>
        <cite class="fn" itemprop="name">forest</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-148"><time itemprop="commentTime" datetime="2015-09-04T17:15:37+00:00">September 4th, 2015 at 05:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>push server无法启动，web都登不上去</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=148#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-148&#39;, 148);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-170" class="comment-body comment-child comment-level-odd comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/69730b97134d83e49f1dea0cbb9f0a68" alt="低调" width="32" height="32"></span>
        <cite class="fn" itemprop="name">低调</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-170"><time itemprop="commentTime" datetime="2015-11-20T12:20:04+00:00">November 20th, 2015 at 12:20 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你的解决了吗？我的也是push——server启动不了</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=170#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-170&#39;, 170);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-241" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c37a130bbd8ba08487c88cc6e8709289" alt="王八" width="32" height="32"></span>
        <cite class="fn" itemprop="name">王八</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-241"><time itemprop="commentTime" datetime="2017-02-05T11:42:23+00:00">February 5th, 2017 at 11:42 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>证书文件错误啊</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=241#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-241&#39;, 241);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-152" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e286a5a6a21fee01a506227fa4514e4f" alt="icecutie" width="32" height="32"></span>
        <cite class="fn" itemprop="name">icecutie</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-152"><time itemprop="commentTime" datetime="2015-09-09T18:11:05+00:00">September 9th, 2015 at 06:11 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>求助！ 其他都没问题 但是 主机ping不通 虚拟机，请问，我的主机是固定IP ，无法修改，也不是192开头的。我是不是应该修改虚拟机的IP设置 跟 主机在一个网关？改成跟主机的掩码 网关 dns 一样 ip地址的尾数变一变？ 但是如果和internet上的ip重合怎么办？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=152#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-152&#39;, 152);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-153" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c20e745b415ce1cffe6392749a72b21d" alt="rockey" width="32" height="32"></span>
        <cite class="fn" itemprop="name">rockey</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-153"><time itemprop="commentTime" datetime="2015-09-15T23:35:29+00:00">September 15th, 2015 at 11:35 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>虚拟机与主机采用桥接模式，再修改虚拟机的IP设置 跟 主机在一个网关即可！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=153#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-153&#39;, 153);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-154" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e8c6bad77fff6336623f5726c47eda29" alt="homin" width="32" height="32"></span>
        <cite class="fn" itemprop="name">homin</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-154"><time itemprop="commentTime" datetime="2015-09-21T22:05:52+00:00">September 21st, 2015 at 10:05 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>启动php的时候 root没有权限，怎么解决，网上找了很多没成功！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=154#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-154&#39;, 154);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-155" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e8c6bad77fff6336623f5726c47eda29" alt="homin" width="32" height="32"></span>
        <cite class="fn" itemprop="name"><a href="http://www.xiamenzimao.com/" rel="external nofollow">homin</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-155"><time itemprop="commentTime" datetime="2015-09-22T08:03:51+00:00">September 22nd, 2015 at 08:03 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>如果在配置过程中提示权限不足，请写权限，如启动php的时候启动不了，请下面语句写权限，nginx也是一样    chmod 775 /etc/init.d/php-fpm</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=155#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-155&#39;, 155);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-166" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/08fc60d1e21124c8e0904aefb7fa9ec3" alt="Joel" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Joel</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-166"><time itemprop="commentTime" datetime="2015-10-22T16:58:24+00:00">October 22nd, 2015 at 04:58 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>博主写的很详尽， 配置成功的话可以发送文字， 不过当中没有对发送文件做配置，即 msfs和file_server 配置，可参考我的配置： http://www.52haost.com/wiki/index.php/TeamTalk%E9%83%A8%E7%BD%B2#.E9.85.8D.E7.BD.AEserver</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=166#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-166&#39;, 166);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="pingback-172" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"></span>
        <cite class="fn" itemprop="name"><a href="http://benyin.space/2015/11/23/teamtalk-server-side-deployment/" rel="external nofollow">TeamTalk server-side deployment | Ben Yin</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#pingback-172"><time itemprop="commentTime" datetime="2015-11-23T13:32:14+00:00">November 23rd, 2015 at 01:32 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>[...]tutorial by Blue Fox, a former developer:&nbsp;http://www.bluefoxah.org/teamtalk/new_tt_deploy.html[...]</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=172#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;pingback-172&#39;, 172);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-173" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/df55cf546526174c9aa25cec30fc15de" alt="开心飞鸟" width="32" height="32"></span>
        <cite class="fn" itemprop="name">开心飞鸟</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-173"><time itemprop="commentTime" datetime="2015-12-03T10:07:08+00:00">December 3rd, 2015 at 10:07 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>昨天根据博主的博客，在CentOS7.0部署成功，所有功能正常，Android客户端发送语音、图片都正常，感谢博主，接下来准备研究源码</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=173#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-173&#39;, 173);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-181" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/827acfee6722dba09fe1de445b98011e" alt="shmiy" width="32" height="32"></span>
        <cite class="fn" itemprop="name">shmiy</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-181"><time itemprop="commentTime" datetime="2015-12-12T15:57:29+00:00">December 12th, 2015 at 03:57 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你好，我想问下，我按照这个方法部署下来，现在用浏览器访问时会跳转到http：//192.168.1.150/auth/login 然后显示的是404 找不到页面<br>
进程中发现db_proxy_server 和msg_server 没有 运行damel 启动之后还是没有，不知道现在怎么弄呀！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=181#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-181&#39;, 181);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-248" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9fd446038ef8e0197a9654c3a79e6281" alt="ccfish" width="32" height="32"></span>
        <cite class="fn" itemprop="name">ccfish</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-248"><time itemprop="commentTime" datetime="2017-05-05T19:40:19+00:00">May 5th, 2017 at 07:40 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>这个应该是nginx配置里少了一段<br>
if (!-e $request_filename) {<br>
rewrite ^/(.*)$ /index.php/$1 last;<br>
break;<br>
}</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=248#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-248&#39;, 248);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-180" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/827acfee6722dba09fe1de445b98011e" alt="shmiy" width="32" height="32"></span>
        <cite class="fn" itemprop="name">shmiy</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-180"><time itemprop="commentTime" datetime="2015-12-12T15:55:54+00:00">December 12th, 2015 at 03:55 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你好，我想问下，我按照这个方法部署下来，现在用浏览器访问时会跳转到http：//192.168.1.150/auth/login 然后显示的是404 找不到页面<br>
进程中发现db_proxy_server 和msg_server 没有 运行damel 启动之后还是没有，不知道现在怎么弄呀！</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=180#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-180&#39;, 180);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-193" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f67600ca81e63693c29f99d2c9c508ca" alt="leo" width="32" height="32"></span>
        <cite class="fn" itemprop="name">leo</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-193"><time itemprop="commentTime" datetime="2016-01-28T18:36:36+00:00">January 28th, 2016 at 06:36 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>确认下网站目录和文件的权限，确认下selinux是否关闭</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=193#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-193&#39;, 193);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-183" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/d8b5a188a401babb18a77315f6af6958" alt="weijer" width="32" height="32"></span>
        <cite class="fn" itemprop="name">weijer</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-183"><time itemprop="commentTime" datetime="2015-12-17T22:44:45+00:00">December 17th, 2015 at 10:44 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>提示此网页包含重定向循环！<br>
<br>
我是哪里搞错了？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=183#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-183&#39;, 183);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-192" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f67600ca81e63693c29f99d2c9c508ca" alt="leo" width="32" height="32"></span>
        <cite class="fn" itemprop="name">leo</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-192"><time itemprop="commentTime" datetime="2016-01-28T18:34:39+00:00">January 28th, 2016 at 06:34 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>谢谢蓝狐，自动部署包加本文说明终于搞定，但目前有一个问题。<br>
在安装完成后，修改mysql用户密码，将新密码配置在dbproxyserver.conf后，启动db_proxy_server失败，日至显示是密码不正确。<br>
另外有个建议，web console可否增加修改管理员密码的功能？因为对php不熟悉，我都是通过mysql命令修改的……</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=192#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-192&#39;, 192);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-195" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e2c420f1928ef1538a20ab32552acb9c" alt="job" width="32" height="32"></span>
        <cite class="fn" itemprop="name">job</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-195"><time itemprop="commentTime" datetime="2016-03-14T08:45:52+00:00">March 14th, 2016 at 08:45 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>小白求教一下，全新在ESXi上执行安装，根据教程完成了Centos、MySQL、PHP等组件的安装，TeamTalk的安装也完成了。但是接下来的login_server等一系列配置信息应该在那儿进行编译添加？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=195#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-195&#39;, 195);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-198" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/be30f2ce5cbbcc86554a5e36e6f2ee05" alt="Nick" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Nick</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-198"><time itemprop="commentTime" datetime="2016-03-30T00:46:09+00:00">March 30th, 2016 at 12:46 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>用了博主的VirtualBox镜像盘，所有服务都正常启动。但是用Android客户端和PC客户端登录提示 获取服务器参数失败是什么原因？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=198#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-198&#39;, 198);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-204" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/477bba149d0f726c84564718a473415f" alt="hh" width="32" height="32"></span>
        <cite class="fn" itemprop="name">hh</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-204"><time itemprop="commentTime" datetime="2016-06-04T17:41:50+00:00">June 4th, 2016 at 05:41 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>http://ftp.gnu.org/gnu/gcc/gcc-4.9.2/gcc-4.9.2.tar.gz  这个升级快很多</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=204#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-204&#39;, 204);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-205" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/ae316d68141cce58beded0f1ef3888c6" alt="alotbsol" width="32" height="32"></span>
        <cite class="fn" itemprop="name">alotbsol</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-205"><time itemprop="commentTime" datetime="2016-06-05T19:26:55+00:00">June 5th, 2016 at 07:26 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>php后台管理，登录admin/admin,总是提示密码错误是怎么回事？数据库里的密码也没错</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=205#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-205&#39;, 205);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-206" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/ae316d68141cce58beded0f1ef3888c6" alt="alotbsol" width="32" height="32"></span>
        <cite class="fn" itemprop="name">alotbsol</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-206"><time itemprop="commentTime" datetime="2016-06-05T21:31:12+00:00">June 5th, 2016 at 09:31 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>mysql中teamtalk用户创建的问题，已解决</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=206#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-206&#39;, 206);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-207" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/1b4efb2e62376b09e8856d3f3c7e03b8" alt="pp" width="32" height="32"></span>
        <cite class="fn" itemprop="name">pp</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-207"><time itemprop="commentTime" datetime="2016-06-25T08:37:00+00:00">June 25th, 2016 at 08:37 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>怎么解决的啊？我也遇到了</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=207#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-207&#39;, 207);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-208" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9dc900d38aeb551c798da4d39ca37318" alt="pioneer" width="32" height="32"></span>
        <cite class="fn" itemprop="name">pioneer</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-208"><time itemprop="commentTime" datetime="2016-07-18T17:21:01+00:00">July 18th, 2016 at 05:21 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>同问，我在mysql里修改了IMUser中admin的密码还是不能登陆</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=208#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-208&#39;, 208);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-219" class="comment-body comment-child comment-level-even comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/0ad0913d6b1abb9d564425e3fa4d69f1" alt="柠是柠檬的檬" width="32" height="32"></span>
        <cite class="fn" itemprop="name">柠是柠檬的檬</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-219"><time itemprop="commentTime" datetime="2016-09-07T16:00:57+00:00">September 7th, 2016 at 04:00 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>你得看提示啊  提示密码错误 还是连不上服务器？</p>    </div>
    <div class="comment-reply">
            </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-210" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/5c2a3ccda593a46a98dee58f84880995" alt="新人" width="32" height="32"></span>
        <cite class="fn" itemprop="name">新人</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-210"><time itemprop="commentTime" datetime="2016-07-30T16:55:03+00:00">July 30th, 2016 at 04:55 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>看了这个下载了虚拟机但是db_proxy_server, http_msg_server,route_server,login_server,msg_server启动不了<br>
看了http://www.bluefoxah.org/teamtalk/new_tt_qa.html文章<br>
还是不会。求指导</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=210#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-210&#39;, 210);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-212" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/e5f05cc8bbf97104be7408b26c5dce4e" alt="Ask" width="32" height="32"></span>
        <cite class="fn" itemprop="name">Ask</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-212"><time itemprop="commentTime" datetime="2016-08-01T15:52:42+00:00">August 1st, 2016 at 03:52 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>请问file_server，如何配置config.</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=212#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-212&#39;, 212);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-213" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/2166066293489c186817fe9430d8a31a" alt="slot" width="32" height="32"></span>
        <cite class="fn" itemprop="name">slot</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-213"><time itemprop="commentTime" datetime="2016-08-07T19:02:26+00:00">August 7th, 2016 at 07:02 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>用户登录时最后在MsgConn类中会调用pdu.SetCommandId(CID_OTHER_VALIDATE_REQ);，请问之后在哪个文件执行的？</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=213#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-213&#39;, 213);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-220" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/0ad0913d6b1abb9d564425e3fa4d69f1" alt="柠是柠檬的檬" width="32" height="32"></span>
        <cite class="fn" itemprop="name">柠是柠檬的檬</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-220"><time itemprop="commentTime" datetime="2016-09-07T16:02:28+00:00">September 7th, 2016 at 04:02 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>有没有发现安卓客户端在聊天的时候 每次进入对话页面 看不到之前的聊天记录？  必须要发几条信息或者图片再下拉刷新才能看到 这怎么解决  看了半天源码看不懂</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=220#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-220&#39;, 220);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-229" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/f2cd17e4b8b868b435173242db69fea9" alt="搞得赢" width="32" height="32"></span>
        <cite class="fn" itemprop="name">搞得赢</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-229"><time itemprop="commentTime" datetime="2016-11-21T17:00:50+00:00">November 21st, 2016 at 05:00 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>从你网盘下载的镜像，iOS，Mac客户端以及网页都可以正常登录，为什么iOS客户端之间以及与mac 发送文字，表情都失败，只成功发送了抖动。使用 -ef|grep msg_server查询到所有的服务都开启了，防火墙也关闭了。这是什么原因那，求思路</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=229#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-229&#39;, 229);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-230" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/88cb14e93ac69842e1cfdcb3770c308b" alt="zhengrz" width="32" height="32"></span>
        <cite class="fn" itemprop="name">zhengrz</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-230"><time itemprop="commentTime" datetime="2016-11-23T20:10:35+00:00">November 23rd, 2016 at 08:10 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>请问file_server配置文件怎么写</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=230#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-230&#39;, 230);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-233" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/9268cc687abc045f160b935d0bf2b4c4" alt="FFFFFFFFFFFFFFF" width="32" height="32"></span>
        <cite class="fn" itemprop="name">FFFFFFFFFFFFFFF</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-233"><time itemprop="commentTime" datetime="2016-12-20T18:15:52+00:00">December 20th, 2016 at 06:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>上线有问题，互相在线的两个账号看到对方的都是离线状态，拉到群组也是，互相发送消息可以互相收到，但是依然是灰色头像状态。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=233#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-233&#39;, 233);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-234" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/5f56ef24f790192f82beb539110d126a" alt="陈红明" width="32" height="32"></span>
        <cite class="fn" itemprop="name">陈红明</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-234"><time itemprop="commentTime" datetime="2016-12-29T12:15:25+00:00">December 29th, 2016 at 12:15 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>部署好了，一开始能用，后台发信息就发不上了<br>
,conn to route server timeout</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=234#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-234&#39;, 234);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-237" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/2e8ebd5eddd308f987e84668e4d5d46b" alt="武" width="32" height="32"></span>
        <cite class="fn" itemprop="name">武</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-237"><time itemprop="commentTime" datetime="2017-01-17T17:41:37+00:00">January 17th, 2017 at 05:41 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>部署teamtalk访问的时候报错  提示这个：<br>
A Database Error Occurred<br>
Unable to connect to your database server using the provided settings.<br>
<br>
Filename: core/Loader.php<br>
<br>
Line Number: 346<br>
<br>
第346行内容： $CI-&gt;db =&amp; DB($params, $active_record);<br>
求助</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=237#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-237&#39;, 237);">回复</a>    </div>
        <div class="comment-children" itemprop="discusses">
        <ol class="comment-list"><li itemscope="" itemtype="http://schema.org/UserComments" id="comment-240" class="comment-body comment-child comment-level-odd comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c37a130bbd8ba08487c88cc6e8709289" alt="王八" width="32" height="32"></span>
        <cite class="fn" itemprop="name">王八</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-240"><time itemprop="commentTime" datetime="2017-02-05T11:38:52+00:00">February 5th, 2017 at 11:38 am</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>查一下你的 db server conf 的设置吧</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=240#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-240&#39;, 240);">回复</a>    </div>
    </li>
</ol>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="comment-242" class="comment-body comment-parent comment-odd">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"><img class="avatar" src="./TeamTalk_config_files/c978f8fb34300be5930ff8b05515e858" alt="王八" width="32" height="32"></span>
        <cite class="fn" itemprop="name">王八</cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-242"><time itemprop="commentTime" datetime="2017-02-16T14:28:01+00:00">February 16th, 2017 at 02:28 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>一个小问题，自己直接在IMGroup表中insert的新群，怎么在管理页面无法添加成员，在数据库添加成员后，对应成员登陆时也看不到这个群。<br>
修改将GroupModel中的isValidateGroupId函数，选择了现在两个版本中的被注释的一个后，用户可以看到这个群，但是点进去以后显示该群没有成员。</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=242#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;comment-242&#39;, 242);">回复</a>    </div>
    </li>
<li itemscope="" itemtype="http://schema.org/UserComments" id="pingback-244" class="comment-body comment-parent comment-even">
    <div class="comment-author" itemprop="creator" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="image"></span>
        <cite class="fn" itemprop="name"><a href="http://eliaidi.com/2017/02/23/216/" rel="external nofollow">谙准 aenjon.com</a></cite>
    </div>
    <div class="comment-meta">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#pingback-244"><time itemprop="commentTime" datetime="2017-02-23T12:59:15+00:00">February 23rd, 2017 at 12:59 pm</time></a>
            </div>
    <div class="comment-content" itemprop="commentText">
    <p>[...]新版TeamTalk完整部署教程[...]</p>    </div>
    <div class="comment-reply">
        <a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html?replyTo=244#respond-post-42" rel="nofollow" onclick="return TypechoComment.reply(&#39;pingback-244&#39;, 244);">回复</a>    </div>
    </li>
</ol>
        
    
        <div id="respond-post-42" class="respond">
        <div class="cancel-comment-reply">
        <a id="cancel-comment-reply-link" href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#respond-post-42" rel="nofollow" style="display:none" onclick="return TypechoComment.cancelReply();">取消回复</a>        </div>
    
    	<h3 id="response">添加新评论</h3>
    	<form method="post" action="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html/comment" id="comment-form" role="form">
                		<p>
                <label for="author" class="required">称呼</label>
    			<input type="text" name="author" id="author" class="text" value="" required="">
    		</p>
    		<p>
                <label for="mail" class="required">Email</label>
    			<input type="email" name="mail" id="mail" class="text" value="" required="">
    		</p>
    		<p>
                <label for="url">网站</label>
    			<input type="url" name="url" id="url" class="text" placeholder="http://" value="">
    		</p>
                		<p>
                <label for="textarea" class="required">内容</label>
                <textarea rows="8" cols="50" name="text" id="textarea" class="textarea" required=""></textarea>
            </p>
    		<p>
                <button type="submit" class="submit">提交评论</button>
            </p>
    	</form>
    </div>
    </div>

    <ul class="post-near">
        <li>上一篇: <a href="http://www.bluefoxah.org/teamtalk/deploy.html" title="TT 部署总结 By 狼王2">TT 部署总结 By 狼王2</a></li>
        <li>下一篇: <a href="http://www.bluefoxah.org/teamtalk/teamtalk_database.html" title="TeamTalk数据库说明">TeamTalk数据库说明</a></li>
    </ul>
</div><!-- end #main-->

<div class="col-mb-12 col-offset-1 col-3 kit-hidden-tb" id="secondary" role="complementary">
        <section class="widget">
		<h3 class="widget-title">最新文章</h3>
        <ul class="widget-list">
            <li><a href="http://www.bluefoxah.org/teamtalk/compilable_tt_mac_ios_project.html">mac/iOS 可编译工程</a></li><li><a href="http://www.bluefoxah.org/teamtalk/something.html">说明</a></li><li><a href="http://www.bluefoxah.org/teamtalk/use_fdfs_instead_of_msfs.html">使用fastdfs + nginx + php 替代 msfs之单机部署版</a></li><li><a href="http://www.bluefoxah.org/teamtalk/new_tt_qa.html">新版TeamTalk常见问题汇总</a></li><li><a href="http://www.bluefoxah.org/teamtalk/provide_api.html">如何对外提供api</a></li><li><a href="http://www.bluefoxah.org/teamtalk/add_protocol.html">如何新增一个处理协议</a></li><li><a href="http://www.bluefoxah.org/teamtalk/teamtalk_android_introduce.html">android TT资料总结-by 樱木</a></li><li><a href="http://www.bluefoxah.org/teamtalk/teamtalk_database.html">TeamTalk数据库说明</a></li><li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html">新版TeamTalk完整部署教程</a></li><li><a href="http://www.bluefoxah.org/teamtalk/deploy.html">TT 部署总结 By 狼王2</a></li>        </ul>
    </section>
    
        <section class="widget">
		<h3 class="widget-title">最近回复</h3>
        <ul class="widget-list">
                            <li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-248">ccfish</a>: 这个应该是nginx配置里少了一段
if (!-e $requ...</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/teamtalk_android_introduce.html#comment-247">西瓜皮</a>: tt Android客户端后台运行一段时间断线后,再重连就连不上...</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/compilable_tt_mac_ios_project.html#comment-246">北沙</a>: 您好，编译问题解决了吗</li>
                    <li><a href="http://www.bluefoxah.org/tt_bug_feedback.html#comment-245">Mr.Hao</a>: 我在用蘑菇街的时候出现了，切换账号最近联系人显示上一个账号的联系...</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#pingback-244">谙准 aenjon.com</a>: [...]新版TeamTalk完整部署教程[...]</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/teamtalk_database.html#comment-243">张</a>: 性别  女  显示人妖，个别女就显示小仙，男显示小侠，郁闷！我就...</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-242">王八</a>: 一个小问题，自己直接在IMGroup表中insert的新群，怎么...</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-241">王八</a>: 证书文件错误啊</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/new_tt_deploy.html#comment-240">王八</a>: 查一下你的 db server conf 的设置吧</li>
                    <li><a href="http://www.bluefoxah.org/teamtalk/compilable_tt_mac_ios_project.html#comment-239">杨老师</a>: 操作系统  10.12  XCODE版本   8.2.1   M...</li>
                </ul>
    </section>
    
        <section class="widget">
		<h3 class="widget-title">分类</h3>
        <ul class="widget-list"><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/default/">默认分类</a></li><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/teamtalk/">TeamTalk</a></li><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/socket/">网络编程</a></li><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/algorithm/">算法</a></li><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/system/">系统管理</a></li><li class="category-level-0 category-parent"><a href="http://www.bluefoxah.org/category/%E6%9D%82%E8%B0%88/">杂谈</a></li></ul>	</section>
    
        <section class="widget">
		<h3 class="widget-title">归档</h3>
        <ul class="widget-list">
            <li><a href="http://www.bluefoxah.org/2016/08/">August 2016</a></li><li><a href="http://www.bluefoxah.org/2016/07/">July 2016</a></li><li><a href="http://www.bluefoxah.org/2016/03/">March 2016</a></li><li><a href="http://www.bluefoxah.org/2015/07/">July 2015</a></li><li><a href="http://www.bluefoxah.org/2015/04/">April 2015</a></li><li><a href="http://www.bluefoxah.org/2015/03/">March 2015</a></li><li><a href="http://www.bluefoxah.org/2015/01/">January 2015</a></li><li><a href="http://www.bluefoxah.org/2014/12/">December 2014</a></li><li><a href="http://www.bluefoxah.org/2014/11/">November 2014</a></li>        </ul>
	</section>
    
    	<section class="widget">
		<h3 class="widget-title">其它</h3>
        <ul class="widget-list">
                            <li class="last"><a href="http://www.bluefoxah.org/admin/login.php">登录</a></li>
                        <li><a href="http://www.bluefoxah.org/feed/">文章 RSS</a></li>
            <li><a href="http://www.bluefoxah.org/feed/comments/">评论 RSS</a></li>
            <li><a href="http://www.typecho.org/">Typecho</a></li>
        </ul>
	</section>
    
</div><!-- end #sidebar -->

        </div><!-- end .row -->
    </div>
</div><!-- end #body -->

<footer id="footer" role="contentinfo">
    © 2017 <a href="http://www.bluefoxah.org/">蓝狐</a>.
    由 <a href="http://www.typecho.org/">Typecho</a> 强力驱动.
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1255870565'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1255870565' type='text/javascript'%3E%3C/script%3E"));</script><span id="cnzz_stat_icon_1255870565"><a href="http://www.cnzz.com/stat/website.php?web_id=1255870565" target="_blank" title="站长统计">站长统计</a></span><script src="./TeamTalk_config_files/z_stat.php" type="text/javascript"></script><script src="./TeamTalk_config_files/core.php" charset="utf-8" type="text/javascript"></script>
</footer><!-- end #footer -->

<script type="text/javascript" src="./TeamTalk_config_files/highlight.pack.js.下载"></script><script type="text/javascript">window.onload = function () {
var codes = document.getElementsByTagName("pre"),
    hlNames = {
        actionscript : /^as[1-3]$/i,
        cmake : /^(make|makefile)$/i,
        cs : /^csharp$/i,
        css : /^css[1-3]$/i,
        delphi : /^pascal$/i,
        javascript : /^js$/i,
        markdown : /^md$/i,
        objectivec : /^objective\-c$/i,
        php  : /^php[1-6]$/i,
        sql : /^mysql$/i,
        xml : /^(html|html5|xhtml)$/i
    }, hlLangs = hljs.LANGUAGES;

for (var i = 0; i < codes.length; i ++) {
    var children = codes[i].getElementsByTagName("code"), highlighted = false;

    if (children.length > 0) {
        var code = children[0], className = code.className;

        if (!!className) {
            if (0 == className.indexOf("lang-")) {
                var lang = className.substring(5).toLowerCase(), finalLang;
            
                if (hlLangs[lang]) {
                    finalLang = lang;
                } else {
                    for (var l in hlNames) {
                        if (lang.match(hlNames[l])) {
                            finalLang = l;
                        }
                    }
                }

                if (!!finalLang) {
                    var result = hljs.highlight(finalLang, code.textContent, true);
                    code.innerHTML = result.value;
                    highlighted = true;
                }
            }
        }

        if (!highlighted) {
            var html = code.innerHTML;
            code.innerHTML = html.replace(/<\/?[a-z]+[^>]*>/ig, "");
            hljs.highlightBlock(code, "", false);
        }
    }
}
}</script>

</body></html>